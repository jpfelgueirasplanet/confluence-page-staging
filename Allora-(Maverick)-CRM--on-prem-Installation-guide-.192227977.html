<!doctype html>
<html lang="en">
 <head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1">
  <link rel="icon" href="_scroll_external/logos/59f13d845123/default-space-logo.svg"> <!-- Primary Meta Tags -->
  <meta name="exp-export-timestamp" content="2024-09-05T09:13:51.786+0000">
  <meta name="exp-page-id" content="192227977">
  <meta name="exp-page-title" content="Allora (Maverick) CRM- on prem Installation guide&nbsp;">
  <meta name="exp-page-version" content="17">
  <meta name="exp-page-scroll-page-id" content="">
  <meta name="exp-page-created" content="2023-07-07T14:12:31.407+0000">
  <meta name="exp-page-last-modified" content="2024-04-16T17:37:02.747+0000">
  <meta name="exp-page-labels" content="">
  <meta name="exp-page-context-keys" content="">
  <meta name="exp-space-key" content="PIODOC">
  <meta name="exp-space-title" content="protel.I/O documentation"> <!-- Additional Meta Tags -->
  <meta name="exp-document-id" content="">
  <meta name="exp-document-title" content="protel.I/O documentation">
  <meta name="exp-version-status" content="">
  <meta name="exp-version-id" content="">
  <meta name="exp-version-name" content="">
  <meta name="exp-version-description" content="">
  <meta name="exp-version-date" content="">
  <meta name="exp-variant-id" content="">
  <meta name="exp-variant-name" content="">
  <meta name="exp-variant-description" content="">
  <meta name="exp-language-code" content="">
  <meta name="exp-language-name" content="">
  <link rel="stylesheet" href="css/app.css">
  <link rel="stylesheet" href="css/image-dimensions.css">
  <script src="js/search.js"></script>
  <script id="search-worker" type="javascript/worker">
    onmessage = function(event) {
        // dispatch events to handling functions
        var message = event.data;

        if ((message.type === 'setup') && message.baseUrl) {
            setup(message.baseUrl);
        }

        if (message.type === 'search-request') {
            search(message.query);
        }
    }

    var searchIndex;

    function setup(baseUrl) {
        importScripts(
            baseUrl + 'js/lunr.js',
            baseUrl + 'js/lunr-index.js',
            baseUrl + 'js/lunr-data.js'
        );
        try {
            // load lunr-extras if it exists, which contains language-specific files for languages other than english
            importScripts(baseUrl + 'js/lunr-extras.js');
        } catch (e) {}
        searchIndex = lunr.Index.load(lunrIndex);
    }

    function search(query) {
        var searchHits = searchIndex.search(query);
        var results = searchHits.map(function (result) {
            return lunrData.filter(function (d) {
                return d.id === result.ref;
            })[0]
        });
        postMessage({ type: 'search-results', results: results, query: query });
    }
</script>
  <title>Allora (Maverick) CRM- on prem Installation guide&nbsp;</title>
  <meta name="generator" content="Scroll HTML Exporter / K15t GmbH">
 </head>
 <body id="Allora(Maverick)CRM-onpremInstallationguide-top" data-pageid="192227977" data-confluence-editor-version="v1" data-confluence-deployment-type="DATACENTER">
  <div class="exp-grid-container">
   <header class="exp-header"></header>
   <div class="exp-logo"><a href="protel.I_O-documentation.192227604.html"> <span class="exp-logo-image" style="background-image: url(_scroll_external/logos/59f13d845123/default-space-logo.svg)" alt="protel.I/O documentation" title="protel.I/O documentation"></span> </a>
   </div>
   <div class="exp-document-title">
    <h1 class="exp-document-title-heading scroll-original-h2 scroll-custom-section-heading scroll-document-section-heading scroll-h1 scroll-relative-h1" data-scroll-heading-rank="1" data-scroll-original-heading-rank="2" data-scroll-relative-heading-rank="1" id="no-src_generated-id-256336afed11ed000b576ae473ed467adea91eae8bcc66b6ffb072b6f124f24a"><a href="protel.I_O-documentation.192227604.html"> protel.I/O documentation </a></h1>
   </div>
   <div class="exp-search-container"><input type="search" id="search-textbox" autocomplete="off" class="exp-search-input" style="margin-right: 0;">
    <div class="exp-search-input-icon">
     <svg data-exp-id="magnifier-icon" data-exp-component="icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewbox="0 0 20 20" fill="none" aria-hidden="true"><path d="M8.99452 14.5C10.5121 14.5 11.809 13.9669 12.8854 12.9007C13.9618 11.8345 14.5 10.5361 14.5 9.00548C14.5 7.48794 13.9631 6.19097 12.8893 5.11458C11.8155 4.03819 10.519 3.5 9 3.5C7.46786 3.5 6.16816 4.0369 5.1009 5.11071C4.03363 6.18453 3.5 7.48096 3.5 9C3.5 10.5321 4.0331 11.8318 5.09929 12.8991C6.1655 13.9664 7.46391 14.5 8.99452 14.5ZM9 16C8.02913 16 7.11974 15.816 6.27185 15.4479C5.42395 15.0799 4.68056 14.5799 4.04167 13.9479C3.40278 13.316 2.90278 12.576 2.54167 11.728C2.18056 10.88 2 9.97053 2 8.99956C2 8.04152 2.18403 7.13542 2.55208 6.28125C2.92014 5.42708 3.41864 4.68387 4.04758 4.0516C4.67653 3.41935 5.41569 2.91935 6.26508 2.5516C7.11449 2.18387 8.02548 2 8.99806 2C9.95769 2 10.8646 2.18403 11.7188 2.55208C12.5729 2.92014 13.316 3.42014 13.9479 4.05208C14.5799 4.68403 15.0799 5.42612 15.4479 6.27835C15.816 7.13058 16 8.0381 16 9.00094C16 9.83365 15.8615 10.6213 15.5846 11.3638C15.3078 12.1062 14.9254 12.7836 14.4375 13.3958L18 16.9583L16.9375 18L13.375 14.4583C12.7668 14.9459 12.0939 15.3247 11.3564 15.5948C10.6188 15.8649 9.83333 16 9 16Z" fill="currentColor" />
     </svg>
    </div>
    <div id="search-suggestion-container" class="exp-search-suggestion-panel" data-exp-component="search-suggestion"></div>
    <template id="exp-search-suggestion-option-template">
     <div class="exp-search-suggestion-option-container search-form-suggestion"><a class="exp-search-suggestion-option search-form-suggestion" href=""></a>
     </div>
    </template>
   </div>
   <nav class="exp-sidebar-navigation">
    <div class="exp-sidebar-navigation-sticky-wrapper"><iframe src="toc.html?pageId=192227977" border="0"></iframe>
    </div>
   </nav>
   <nav aria-label="Breadcrumb" class="exp-breadcrumbs-wrapper">
    <ol class="breadcrumbs">
     <li class="breadcrumb"><a href="protel.I_O-documentation.192227604.html" rel="prev" target="_self">protel.I/O documentation</a></li>
     <li class="breadcrumb"><a href="Integrations.192227608.html" rel="prev" target="_self">Integrations</a></li>
     <li class="breadcrumb"><a href="Allora-CRM-(Maverick).192227716.html" rel="prev" target="_self">Allora CRM (Maverick)</a></li>
     <li class="breadcrumb active" aria-current="page">Allora (Maverick) CRM- on prem Installation guide&nbsp;</li>
    </ol>
   </nav>
   <main class="exp-content">
    <article role="article">
     <header>
      <h1 class="article-heading scroll-h1 scroll-original-h1 scroll-relative-h1 scroll-custom-section-heading scroll-document-section-heading" role="heading" data-scroll-heading-rank="1" data-scroll-original-heading-rank="1" data-scroll-relative-heading-rank="1" id="no-src_generated-id-b9b20b7a0eb779ec682ce6bed08584f4d35a18ffc4687f7650d236689f4353fd">Allora (Maverick) CRM- on prem Installation guide&nbsp;</h1>
     </header>
     <section class="page" id="content" role="main">
      <div id="main-content" class="wiki-content article-content js-tocBot-content">
       <p><span style="color: rgb(51,51,51);"><style type="text/css">/*<![CDATA[*/
div.rbtoc1725527631912 {padding: 0px;}
div.rbtoc1725527631912 ul {margin-left: 0px;}
div.rbtoc1725527631912 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style></span></p>
       <div class="toc-macro rbtoc1725527631912">
        <ul class="toc-indentation">
         <li><a data-scroll-target-source-id="192227977" data-scroll-link-target-source-id="192227977" data-scroll-link-type="document" href="Allora-(Maverick)-CRM--on-prem-Installation-guide-.192227977.html#Allora(Maverick)CRMonpremInstallationguide-AbouttheInterface:" class=" scroll-document-link" data-scroll-link-target="https://confluence.weareplanet.com/pages/viewpage.action?pageId=192227977#src-192227977_Allora(Maverick)CRMonpremInstallationguide-AbouttheInterface:">About the Interface:</a></li>
         <li><a data-scroll-target-source-id="192227977" data-scroll-link-target-source-id="192227977" data-scroll-link-type="document" href="Allora-(Maverick)-CRM--on-prem-Installation-guide-.192227977.html#Allora(Maverick)CRMonpremInstallationguide-ContactInformation-IntegrationPartner" class=" scroll-document-link" data-scroll-link-target="https://confluence.weareplanet.com/pages/viewpage.action?pageId=192227977#src-192227977_Allora(Maverick)CRMonpremInstallationguide-ContactInformation-IntegrationPartner">Contact Information - Integration Partner</a></li>
         <li><a data-scroll-target-source-id="192227977" data-scroll-link-target-source-id="192227977" data-scroll-link-type="document" href="Allora-(Maverick)-CRM--on-prem-Installation-guide-.192227977.html#Allora(Maverick)CRMonpremInstallationguide-InstallationSteps" class=" scroll-document-link" data-scroll-link-target="https://confluence.weareplanet.com/pages/viewpage.action?pageId=192227977#src-192227977_Allora(Maverick)CRMonpremInstallationguide-InstallationSteps">Installation Steps</a>
          <ul class="toc-indentation">
           <li><a data-scroll-target-source-id="192227977" data-scroll-link-target-source-id="192227977" data-scroll-link-type="document" href="Allora-(Maverick)-CRM--on-prem-Installation-guide-.192227977.html#Allora(Maverick)CRMonpremInstallationguide-Generalsteps" class=" scroll-document-link" data-scroll-link-target="https://confluence.weareplanet.com/pages/viewpage.action?pageId=192227977#src-192227977_Allora(Maverick)CRMonpremInstallationguide-Generalsteps">General steps</a></li>
           <li><a data-scroll-target-source-id="192227977" data-scroll-link-target-source-id="192227977" data-scroll-link-type="document" href="Allora-(Maverick)-CRM--on-prem-Installation-guide-.192227977.html#Allora(Maverick)CRMonpremInstallationguide-OnewayInstallation" class=" scroll-document-link" data-scroll-link-target="https://confluence.weareplanet.com/pages/viewpage.action?pageId=192227977#src-192227977_Allora(Maverick)CRMonpremInstallationguide-OnewayInstallation">One way Installation</a></li>
           <li><a data-scroll-target-source-id="192227977" data-scroll-link-target-source-id="192227977" data-scroll-link-type="document" href="Allora-(Maverick)-CRM--on-prem-Installation-guide-.192227977.html#Allora(Maverick)CRMonpremInstallationguide-TwowayInstallation" class=" scroll-document-link" data-scroll-link-target="https://confluence.weareplanet.com/pages/viewpage.action?pageId=192227977#src-192227977_Allora(Maverick)CRMonpremInstallationguide-TwowayInstallation">Two way Installation</a></li>
          </ul></li>
        </ul>
       </div>
       <p></p>
       <h2 id="Allora(Maverick)CRMonpremInstallationguide-AbouttheInterface:" data-scroll-heading-rank-offset="1" data-scroll-heading-rank="2" data-scroll-original-heading-rank="3" data-scroll-relative-heading-rank="2" class="scroll-original-h3 scroll-custom-section-heading scroll-document-section-heading scroll-h2 scroll-relative-h2">About the Interface:&nbsp;</h2>
       <p><br clear="none"></p>
       <p><span class="confluence-embedded-file-wrapper conf-macro"><a rel="nofollow" href="https://confluence.weareplanet.com/download/attachments/192227977/protel.IO_Maverick_Product_Specification_1.0.pdf?api=v2&amp;modificationDate=1690797257937&amp;version=1" shape="rect" class="confluence-embedded-file scroll-confluence-link" data-scroll-link-type="default" data-scroll-link-target="https://confluence.weareplanet.com/download/attachments/192227977/protel.IO_Maverick_Product_Specification_1.0.pdf?api=v2&amp;modificationDate=1690797257937&amp;version=1" data-scroll-link-local="true"><img alt="" src="_scroll_external/other/5130a432db7c/1.jpeg" height="250" class="scroll-document-image" data-scroll-image-id="89ecf30f-1593-40ad-bf48-655dd767b376"></a></span></p>
       <h2 id="Allora(Maverick)CRMonpremInstallationguide-ContactInformation-IntegrationPartner" data-scroll-heading-rank-offset="1" data-scroll-heading-rank="2" data-scroll-original-heading-rank="3" data-scroll-relative-heading-rank="2" class="scroll-original-h3 scroll-custom-section-heading scroll-document-section-heading scroll-h2 scroll-relative-h2"><strong>Contact Information - Integration Partner</strong></h2>
       <p><strong>Slack Channel:&nbsp;</strong> #htng_maverickcrm</p>
       <p><strong>General phone number:&nbsp;</strong>+1 800 252 0522<strong><br clear="none">Support / Installer phone number:</strong> &nbsp;+1 800 252 0522</p>
       <p><strong>General email address:</strong> <a rel="nofollow" style="text-decoration: none;" href="mailto:support@shrgroup.co" shape="rect" class="external-link scroll-external-link" data-scroll-link-type="default" data-scroll-link-target="mailto:support@shrgroup.co" data-scroll-link-local="false">support@shrgroup.co</a><span style="color: rgb(29,28,29);">m</span><strong><span style="color: rgb(255,0,0);"><br clear="none"></span></strong><strong>Support / Installer email address:</strong> &nbsp;<a rel="nofollow" style="text-decoration: none;" href="mailto:support@shrgroup.co" shape="rect" class="external-link scroll-external-link" data-scroll-link-type="default" data-scroll-link-target="mailto:support@shrgroup.co" data-scroll-link-local="false">support@shrgroup.co</a><span style="color: rgb(29,28,29);">m</span><strong><span style="color: rgb(255,0,0);"><br clear="none"></span></strong></p>
       <p><br clear="none"></p>
       <p><strong>Contact persons for installations</strong></p>
       <div class="table-wrap">
        <table class="wrapped confluenceTable">
         <colgroup span="1">
          <col span="1">
          <col span="1">
          <col span="1">
          <col span="1">
          <col span="1">
         </colgroup>
         <thead>
          <tr>
           <th colspan="1" rowspan="1" class="confluenceTh"><p>Name</p></th>
           <th colspan="1" rowspan="1" class="confluenceTh"><p>Position (Support / Installer)</p></th>
           <th colspan="1" rowspan="1" class="confluenceTh"><p>Email</p></th>
           <th colspan="1" rowspan="1" class="confluenceTh"><p>Slack</p></th>
           <th colspan="1" rowspan="1" class="confluenceTh"><p>Phone number</p></th>
          </tr>
         </thead>
         <tbody>
          <tr>
           <td colspan="1" rowspan="1" class="confluenceTd"><p><span style="color: rgb(29,28,29);">Support</span></p></td>
           <td colspan="1" rowspan="1" class="confluenceTd"><p>Support / Installer</p></td>
           <td colspan="1" rowspan="1" class="confluenceTd"><p><a rel="nofollow" style="text-decoration: underline;text-align: left;" href="mailto:support@shrgroup.com" shape="rect" class="external-link scroll-external-link" data-scroll-link-type="default" data-scroll-link-target="mailto:support@shrgroup.com" data-scroll-link-local="false">support@shrgroup.com</a></p></td>
           <td colspan="1" rowspan="1" style="text-align: center;" class="confluenceTd"><p><span style="color: rgb(255,0,0);"><img alt="(tick)" data-emoticon-name="tick" class="emoticon emoticon-tick scroll-document-image" src="_scroll_external/icons/ea52f49b26f0/check.svg" data-emoji-short-name=":tick:"></span></p></td>
           <td colspan="1" rowspan="1" class="confluenceTd"><p>+1 800 252 0522</p></td>
          </tr>
         </tbody>
        </table>
       </div>
       <p><br clear="none"></p>
       <h2 id="Allora(Maverick)CRMonpremInstallationguide-InstallationSteps" data-scroll-heading-rank-offset="1" data-scroll-heading-rank="2" data-scroll-original-heading-rank="3" data-scroll-relative-heading-rank="2" class="scroll-original-h3 scroll-custom-section-heading scroll-document-section-heading scroll-h2 scroll-relative-h2">Installation Steps</h2>
       <div class="table-wrap">
        <table class="wrapped confluenceTable tableenhancer tableenhancer-rownums-onceBeforeSorting">
         <colgroup span="1">
          <col span="1">
          <col span="1">
         </colgroup>
         <thead>
          <tr>
           <th colspan="1" rowspan="1" class="confluenceTh"><p>&nbsp;</p></th>
           <th colspan="1" rowspan="1" class="confluenceTh"><h3 id="Allora(Maverick)CRMonpremInstallationguide-Generalsteps" data-scroll-heading-rank-offset="1" data-scroll-heading-rank="3" data-scroll-original-heading-rank="4" data-scroll-relative-heading-rank="3" class="scroll-original-h4 scroll-non-section-heading scroll-h3 scroll-relative-h3"><strong><em>General steps</em></strong></h3></th>
           <th colspan="1" rowspan="1" class="confluenceTh"><p>Examples</p></th>
          </tr>
         </thead>
         <tbody>
          <tr>
           <td class="confluenceTd highlight-grey" data-highlight-colour="grey"><p>1</p></td>
           <td colspan="1" rowspan="1" class="confluenceTd">
            <div class="content-wrapper">
             <p><span style="color: rgb(23,43,77);">Request authentication details from the Integration partner for the new installation and request them to send you the authentication details.</span></p>
             <p><span style="color: rgb(23,43,77);"> Please provide them the HotelID as well - internally for Protel this is the CloudID&nbsp;</span></p>
             <div class="confluence-information-macro confluence-information-macro-information">
              <p class="title conf-macro-render">Data Security</p><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span>
              <div class="confluence-information-macro-body">
               <p><span style="color: rgb(0,0,0);">Please have in mind that both vendor and IO interface token information is sensitive information that might be transported by Slack, <br clear="none"></span><span style="color: rgb(0,0,0);">team viewer session in case of a 1:1 session, </span><span style="color: rgb(0,0,0);">or with two-way&nbsp;authentication methods by other media.&nbsp;</span></p>
              </div>
             </div>
            </div></td>
           <td colspan="1" rowspan="1" class="confluenceTd">
            <div class="content-wrapper">
             <p><span style="color: rgb(255,0,0);"><span style="color: rgb(0,0,0);">Authentication method using a specific given Endpoint, a User and a Password for each hotel customer</span><br clear="none"><br clear="none"></span><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img width="800" class="confluence-embedded-image scroll-document-image" src="_scroll_external/attachments/ba0c55cd9f12/alora_bob_credentials.png"></span></p>
            </div></td>
          </tr>
          <tr>
           <td class="confluenceTd highlight-grey" data-highlight-colour="grey"><p>2</p></td>
           <td colspan="1" rowspan="1" class="confluenceTd"><p><span style="color: rgb(23,43,77);">General Preparation </span>On-Premise</p></td>
           <td colspan="1" rowspan="1" class="confluenceTd">
            <div class="content-wrapper">
             <p><a rel="nofollow" style="text-align: left;" href="https://confluence.protel.net/download/attachments/93228458/IO_Pre-Setup-Checklist_Partner_en.pdf?version=6&amp;modificationDate=1644235513533&amp;api=v2" shape="rect" class="external-link scroll-external-link" data-scroll-link-type="default" data-scroll-link-target="https://confluence.protel.net/download/attachments/93228458/IO_Pre-Setup-Checklist_Partner_en.pdf?version=6&amp;modificationDate=1644235513533&amp;api=v2" data-scroll-link-local="false">IO_Pre-Setup-Checklist_Partner_en.pdf</a></p>
            </div></td>
          </tr>
          <tr>
           <td class="confluenceTd highlight-grey" data-highlight-colour="grey"><p>3</p></td>
           <td colspan="1" rowspan="1" class="confluenceTd"><p><span style="color: rgb(0,0,0);">Special XSetup Configuration</span></p></td>
           <td colspan="1" rowspan="1" class="confluenceTd">
            <div class="content-wrapper">
             <ul>
              <li class="auto-cursor-target"><strong>MPE xSetup</strong></li>
             </ul>
             <div class="table-wrap">
              <table class="wrapped confluenceTable" data-mce-resize="false">
               <thead>
                <tr>
                 <th colspan="1" rowspan="1" class="confluenceTh"><p><span>Group</span></p></th>
                 <th colspan="1" rowspan="1" class="confluenceTh"><p><span>Identifier</span></p></th>
                 <th colspan="1" rowspan="1" class="confluenceTh"><p><span>Value</span></p></th>
                 <th colspan="1" rowspan="1" class="confluenceTh"><p><span>local/global</span></p></th>
                 <th colspan="1" rowspan="1" class="confluenceTh"><p><span>Notes/Explanation</span></p></th>
                </tr>
               </thead>
               <tbody>
                <tr>
                 <td colspan="1" rowspan="1" class="confluenceTd"><p><span style="color: rgb(23,43,77);">pws</span></p></td>
                 <td colspan="1" rowspan="1" class="confluenceTd"><p><span style="color: rgb(23,43,77);">proteliolivemodeprofilempedupe</span></p></td>
                 <td colspan="1" rowspan="1" class="confluenceTd"><p><span style="color: rgb(23,43,77);">0</span></p></td>
                 <td colspan="1" rowspan="1" class="confluenceTd"><p>Global</p></td>
                 <td colspan="1" rowspan="1" class="confluenceTd"><p>Without this setting additional OTA_ProfileModifyRQ messages are generated for</p><p>other active mpe hotels if Allora sends an OTA_ProfileModifyRQ to a specific hotelid.</p></td>
                </tr>
               </tbody>
              </table>
             </div>
             <p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img width="600" class="confluence-embedded-image scroll-document-image" src="_scroll_external/attachments/382a93675814/image2023-7-17_10-59-11.png"></span></p>
             <p><br clear="none"></p>
             <ul>
              <li class="auto-cursor-target"><strong><strong style="text-align: left;">Profile Lookup&nbsp; - Global<br clear="none"></strong></strong></li>
             </ul>
             <div class="table-wrap">
              <table class="wrapped confluenceTable" data-mce-resize="false">
               <thead>
                <tr>
                 <th colspan="1" rowspan="1" class="confluenceTh"><p><span>Group</span></p></th>
                 <th colspan="1" rowspan="1" class="confluenceTh"><p><span>Identifier</span></p></th>
                 <th colspan="1" rowspan="1" class="confluenceTh"><p><span>Value</span></p></th>
                </tr>
               </thead>
               <tbody>
                <tr>
                 <td colspan="1" rowspan="1" class="confluenceTd"><p>pws</p></td>
                 <td colspan="1" rowspan="1" class="confluenceTd"><p><span style="color: rgb(23,43,77);">htng_sync_request_url</span></p></td>
                 <td colspan="1" rowspan="1" class="confluenceTd"><p><a rel="nofollow" href="https://service.protel.io/services/ProtelApiSyncService.ProtelApiSyncServiceHttpsSoap12Endpoint" shape="rect" class="external-link scroll-external-link" data-scroll-link-type="default" data-scroll-link-target="https://service.protel.io/services/ProtelApiSyncService.ProtelApiSyncServiceHttpsSoap12Endpoint" data-scroll-link-local="false">https://service.protel.io/services/ProtelApiSyncService.ProtelApiSyncServiceHttpsSoap12Endpoint</a></p></td>
                </tr>
                <tr>
                 <td colspan="1" rowspan="1" class="confluenceTd"><p>pws</p></td>
                 <td colspan="1" rowspan="1" class="confluenceTd"><p><span style="color: rgb(23,43,77);">ota_readrqprofile_sync_target</span></p></td>
                 <td colspan="1" rowspan="1" class="confluenceTd"><p>com.windsurfercrs.maverickcrmshr</p></td>
                </tr>
               </tbody>
              </table>
             </div>
             <p class="auto-cursor-target"><strong><strong style="text-align: left;"><br clear="none"></strong></strong></p>
             <p class="auto-cursor-target"><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img data-scroll-image-id="4043182a-b7f2-4b56-b028-75efa3638faf" class="confluence-embedded-image scroll-document-image" src="_scroll_external/attachments/c48caa3f2479/image2023-7-17_10-47-5.png" height="151"></span></p>
             <ul>
              <li class="auto-cursor-target"><strong>ProfileLookup - Local</strong></li>
             </ul>
             <div class="table-wrap">
              <table class="wrapped confluenceTable" data-mce-resize="false">
               <thead>
                <tr>
                 <th colspan="1" rowspan="1" class="confluenceTh"><p><span>Group</span></p></th>
                 <th colspan="1" rowspan="1" class="confluenceTh"><p><span>Identifier</span></p></th>
                 <th colspan="1" rowspan="1" class="confluenceTh"><p><span>Value</span></p></th>
                 <th colspan="1" rowspan="1" class="confluenceTh"><p><span>local/global</span></p></th>
                 <th colspan="1" rowspan="1" class="confluenceTh"><p><span>Notes/Explanation</span></p></th>
                </tr>
               </thead>
               <tbody>
                <tr>
                 <td colspan="1" rowspan="1" class="confluenceTd"><p>cps</p></td>
                 <td colspan="1" rowspan="1" class="confluenceTd"><p>enabled</p></td>
                 <td colspan="1" rowspan="1" class="confluenceTd"><p>1</p></td>
                 <td colspan="1" rowspan="1" class="confluenceTd"><p>local</p></td>
                 <td colspan="1" rowspan="1" class="confluenceTd"><p>enables CPS-Provider dialogue in System Data</p></td>
                </tr>
                <tr>
                 <td colspan="1" rowspan="1" class="confluenceTd"><p>cps</p></td>
                 <td colspan="1" rowspan="1" class="confluenceTd"><p>mandatoryrule</p></td>
                 <td colspan="1" rowspan="1" class="confluenceTd"><p>(Firstname&amp;Lastname)</p></td>
                 <td colspan="1" rowspan="1" class="confluenceTd"><p>local</p></td>
                 <td colspan="1" rowspan="1" class="confluenceTd"><p><span style="color: rgb(23,43,77);">Required for defining mandatory fields for the "Search Profiles" dialog, has to be set at hotel level.<br clear="none"></span><span style="color: rgb(23,43,77);"><span>&nbsp;</span></span><strong style="text-align: left;">Important:</strong><span style="color: rgb(23,43,77);"><span>&nbsp;</span></span><span style="color: rgb(23,43,77);">&nbsp;</span><span style="color: rgb(23,43,77);">The spelling is</span><span style="color: rgb(23,43,77);">&nbsp;</span><span style="color: rgb(23,43,77);"><span>&nbsp;</span></span><strong style="text-align: left;">case sensitive</strong><span style="color: rgb(23,43,77);">. The XSetup enabled is prerequisite.<br clear="none">As of pws version 2.19.x this can be entered via the Profiles tab of the pws as shown below instead of entering it as an xsetup.<br clear="none"></span></p></td>
                </tr>
                <tr>
                 <td colspan="1" rowspan="1" class="confluenceTd"><p>cps</p></td>
                 <td colspan="1" rowspan="1" class="confluenceTd"><p>max_search_results</p></td>
                 <td colspan="1" rowspan="1" class="confluenceTd"><p>xy</p></td>
                 <td colspan="1" rowspan="1" class="confluenceTd"><p>local</p></td>
                 <td colspan="1" rowspan="1" class="confluenceTd"><span style="color: rgb(23,43,77);">Defines the maximum number of search results for the CPS profile search. The XSetup enabled is prerequisite.</span><br clear="none" style="text-align: left;"><p style="text-align: left;"><span style="color: rgb(23,43,77);">This can be entered via the Profiles tab of the pws as shown below</span></p></td>
                </tr>
               </tbody>
              </table>
             </div>
             <p class="auto-cursor-target"><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img width="600" class="confluence-embedded-image scroll-document-image" src="_scroll_external/attachments/95e9fda0ffc6/allora_pws_prof_cps.png"></span></p>
             <ul>
              <li class="auto-cursor-target"><strong style="text-align: left;">1-Way OptIn - Global</strong></li>
             </ul>
             <p><strong style="text-align: left;"><span style="color: rgb(255,0,0);">PWS version &gt; 2.16.x covers a part of the following Settings in the PWS UI</span></strong></p>
            </div><p class="auto-cursor-target"><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img width="600" class="confluence-embedded-image scroll-document-image" src="_scroll_external/attachments/825ea6894ead/allora_pws_optin_1.png"></span></p>
            <div class="table-wrap">
             <table class="wrapped confluenceTable" data-mce-resize="false">
              <thead>
               <tr>
                <th colspan="1" rowspan="1" class="confluenceTh"><p><span>Group</span></p></th>
                <th colspan="1" rowspan="1" class="confluenceTh"><p><span>Identifier</span></p></th>
                <th colspan="1" rowspan="1" class="confluenceTh"><p><span>Value</span></p></th>
                <th colspan="1" rowspan="1" class="confluenceTh"><p><span>Notes/Explanation</span></p></th>
               </tr>
              </thead>
              <tbody>
               <tr>
                <td colspan="1" rowspan="1" class="confluenceTd"><p><span style="color: rgb(23,43,77);">optin</span></p></td>
                <td colspan="1" rowspan="1" class="confluenceTd"><p style="text-align: left;">default_type2_method0</p><p style="text-align: left;">default_type2_method1</p><p style="text-align: left;">default_type2_method2</p><p style="text-align: left;">default_type2_method3</p></td>
                <td colspan="1" rowspan="1" class="confluenceTd"><p style="text-align: left;">0</p><p style="text-align: left;">0</p><p style="text-align: left;">0</p><p style="text-align: left;">0</p></td>
                <td colspan="1" rowspan="1" class="confluenceTd">
                 <div class="content-wrapper">
                  <p style="text-align: left;">The protelIO interface supports only the optin/out values passed from the "Contact allowed - Advertisement" contact options</p>
                  <p style="text-align: left;">These x-settings set the default values for the UI to be "NO" for all individual contact methods and requires mailingdefault_0 xsetup to be entered if they are to be referenced.</p>
                  <p style="text-align: left;"><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img width="207" class="confluence-embedded-image confluence-content-image-border scroll-document-image" src="_scroll_external/attachments/92b6da45891a/image2020-7-16_16-33-1.png" height="85"></span></span>&nbsp;</p>
                  <p style="text-align: left;">Please be aware that "Not Asked" in PMS UI will exhibit as "NO" when passed to an integration partner in the fields "ShareMarketInd" for each of the communication methods.</p>
                  <p style="text-align: left;"><strong><span style="color: rgb(255,0,0);">It should be noted that the approved protel default settings should be "NO", but there is a possibility to set this "YES" if agreed with the property in advance.<br clear="none">This requires signed authorisation attesting to this from the property (is done by Projects team for protel HQ customers).</span></strong></p>
                  <p style="text-align: left;">If this is has been agreed, then altering the values in from 0 to 1 will result in the profile UI displaying as</p>
                  <p style="text-align: left;"><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img width="188" class="confluence-embedded-image confluence-content-image-border scroll-document-image" src="_scroll_external/attachments/4c8beceb678e/image2020-7-16_16-33-37.png" height="90"></span></span></p>
                  <p style="text-align: left;"><span style="color: rgb(255,0,0);"><strong style="text-align: left;">If individual default "Advertisement" settings are required other "Yes" or "No", then please refer to the "special Ckit Configuration" section of this installation guide.</strong></span></p>
                 </div></td>
               </tr>
               <tr>
                <td colspan="1" rowspan="1" class="confluenceTd"><p><span style="color: rgb(23,43,77);">profiles</span></p></td>
                <td colspan="1" rowspan="1" class="confluenceTd"><p>optin</p></td>
                <td colspan="1" rowspan="1" class="confluenceTd"><p>1</p></td>
                <td colspan="1" rowspan="1" class="confluenceTd">
                 <div class="content-wrapper">
                  <p>This setting enables the Contact Opt in dialogue box&nbsp;</p>
                  <p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img width="399" class="confluence-embedded-image confluence-content-image-border scroll-document-image" src="_scroll_external/attachments/5fea54ce594b/image2020-7-16_16-35-40.png" height="250"></span></span></p>
                 </div></td>
               </tr>
               <tr>
                <td colspan="1" rowspan="1" class="confluenceTd"><p>profiles</p></td>
                <td colspan="1" rowspan="1" class="confluenceTd"><p><span style="color: rgb(23,43,77);">mailingdefault_0</span></p><p><br clear="none"></p><p><br clear="none"></p><p><br clear="none"></p><p><br clear="none"></p><p><br clear="none"></p><p><br clear="none"></p><p><br clear="none"></p><p><br clear="none"></p><p><br clear="none"></p><p><br clear="none"></p><p><br clear="none"></p><p><br clear="none"></p><p><br clear="none"></p><p><br clear="none"></p><p><br clear="none"></p><p><br clear="none"></p><p><br clear="none"></p><p><br clear="none"></p><p><br clear="none"></p><p><br clear="none"></p><p><span style="color: rgb(23,43,77);">mailingdefault_1</span></p><p><span style="color: rgb(23,43,77);">mailingdefault_3</span></p></td>
                <td colspan="1" rowspan="1" class="confluenceTd"><p>0</p><p><br clear="none"></p><p><br clear="none"></p><p><br clear="none"></p><p><br clear="none"></p><p><br clear="none"></p><p><br clear="none"></p><p><br clear="none"></p><p><br clear="none"></p><p><br clear="none"></p><p><br clear="none"></p><p><br clear="none"></p><p><br clear="none"></p><p><br clear="none"></p><p><br clear="none"></p><p><br clear="none"></p><p><br clear="none"></p><p><br clear="none"></p><p><br clear="none"></p><p><br clear="none"></p><p><br clear="none"></p><p>0</p><p>0</p></td>
                <td colspan="1" rowspan="1" class="confluenceTd">
                 <div class="content-wrapper">
                  <p style="text-align: left;">This setting sets the default values in the individual profile UI in the absence of individual contact defaults to be "NO" and will send the value "NO" in the "ShareMarketInd" fields in the xml message.</p>
                  <p style="text-align: left;">These fields correspond to the contact methods. This setting should be set as "NO" for all sites unless agreed in advance with the site</p>
                  <ul style="text-align: left;">
                   <li>Address (this is letter in the UI)</li>
                   <li>Phone (including text message)</li>
                   <li>Email</li>
                  </ul>
                  <p style="text-align: left;">The contact methods can be changed individually from the defaults shown below</p>
                  <p style="text-align: left;"><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img width="230" class="confluence-embedded-image confluence-content-image-border scroll-document-image" src="_scroll_external/attachments/33bf05ec5871/image2020-7-16_16-39-12.png" height="101"></span></span></p>
                  <p style="text-align: left;"><span style="color: rgb(23,43,77);">To a combination of "Yes,No or Not Asked<span style="color: rgb(255,0,0);">*</span>"</span></p>
                  <p style="text-align: left;"><span style="color: rgb(23,43,77);"><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img width="313" class="confluence-embedded-image confluence-content-image-border scroll-document-image" src="_scroll_external/attachments/bcc4914c1ec7/image2020-7-16_16-40-27.png" height="93"></span></span></span></p>
                  <p style="text-align: left;"><span style="color: rgb(255,0,0);">*</span>Not Asked will be sent as "NO" to the integration partner</p>
                  <p style="text-align: left;">As mention earlier, If agreed with the property that the default for advertising permissions can be "YES" then setting the value to from "0" to "1" will result in the default in the UI appearing as below.</p>
                  <p style="text-align: left;"><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img width="192" class="confluence-embedded-image confluence-content-image-border scroll-document-image" src="_scroll_external/attachments/d02367ff485a/image2020-7-16_16-41-14.png" height="89"></span></span></p>
                  <p style="text-align: left;"><span style="color: rgb(23,43,77);"><br clear="none">Mailingdefault_1 controls the defaults settings for company profiles<strong> (N/A for Allora&nbsp; CRM)</strong></span></p>
                  <p style="text-align: left;"><span style="color: rgb(23,43,77);">Mailingdefault_3 controls the default&nbsp; settings for travel agent profiles&nbsp;<strong> (N/A for Allora&nbsp; CRM)</strong></span></p>
                 </div></td>
               </tr>
              </tbody>
             </table>
            </div>
            <ul>
             <li class="auto-cursor-target"><strong style="text-align: left;">2-Way Optin - Globa</strong></li>
            </ul>
            <div class="table-wrap">
             <table class="wrapped confluenceTable" data-mce-resize="false">
              <thead>
               <tr>
                <th colspan="1" rowspan="1" class="confluenceTh"><p><span>Group</span></p></th>
                <th colspan="1" rowspan="1" class="confluenceTh"><p><span>Identifier</span></p></th>
                <th colspan="1" rowspan="1" class="confluenceTh"><p><span>Value</span></p></th>
                <th colspan="1" rowspan="1" class="confluenceTh"><p><span>Notes/Explanation</span></p></th>
               </tr>
              </thead>
              <tbody>
               <tr>
                <td colspan="1" rowspan="1" class="confluenceTd"><p>pws</p></td>
                <td colspan="1" rowspan="1" class="confluenceTd"><p>permit_inbound_optin&nbsp;</p></td>
                <td colspan="1" rowspan="1" class="confluenceTd"><p>1</p></td>
                <td colspan="1" rowspan="1" class="confluenceTd">
                 <div class="content-wrapper">
                  <p style="text-align: left;">This setting when entered will allow the integration partner to alter the ShareMarketInd and ShareAllOptInd flags inbound to protel for the&nbsp; profile section "Advertisement"&nbsp;</p>
                  <p style="text-align: left;">In pws version higher than 2.16.x there is a tick box in the CRM tab of the pws proteIO Configuration entitled "Permit Inbound Optin"&nbsp;</p>
                  <p style="text-align: left;"><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img width="600" class="confluence-embedded-image confluence-content-image-border scroll-document-image" src="_scroll_external/attachments/208b3dfd8cb6/image2020-7-16_16-51-5.png"></span></span></p>
                  <p style="text-align: left;"><span style="color: rgb(23,43,77);">Ticking this checkbox as shown in the example above will insert the x-setup into the local property setting</span></p>
                  <p style="text-align: left;"><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img width="802" class="confluence-embedded-image confluence-content-image-border scroll-document-image" src="_scroll_external/attachments/4df742cc74ba/image2020-8-20_16-49-41.png" height="22"></span></span></p>
                  <p style="text-align: left;"><span style="color: rgb(23,43,77);">With the setting in place, any updates to the Advertisement sent by the integration partner will be reflected in protel. In the example below the original setting were set to the default "NO"</span></p>
                  <p style="text-align: left;"><span style="color: rgb(23,43,77);"><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img width="206" class="confluence-embedded-image confluence-content-image-border scroll-document-image" src="_scroll_external/attachments/449ff27f4d1d/image2020-7-16_16-52-41.png" height="86"></span></span></span></p>
                  <p style="text-align: left;"><span style="color: rgb(23,43,77);">When the x-setting is in place if the integration partner sends a change i.e. email it will be reflected protel</span></p>
                  <p style="text-align: left;"><span style="color: rgb(23,43,77);"><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img width="288" class="confluence-embedded-image confluence-content-image-border scroll-document-image" src="_scroll_external/attachments/401c8e459ffd/image2020-7-16_16-53-11.png" height="94"></span></span></span></p>
                 </div></td>
               </tr>
              </tbody>
             </table>
            </div></td>
          </tr>
          <tr>
           <td class="confluenceTd highlight-grey" data-highlight-colour="grey"><p>4</p></td>
           <td colspan="1" rowspan="1" class="confluenceTd"><p>System Data Configuration for CPS Search</p></td>
           <td colspan="1" rowspan="1" class="confluenceTd">
            <div class="content-wrapper">
             <p>After enabling xSetups for CPS ProfileLookup, create the CPS-Provider in System Data&nbsp;<br clear="none"><strong>com.windsurfercrs.maverickcrmshr</strong>&nbsp;</p>
             <p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img width="400" class="confluence-embedded-image scroll-document-image" src="_scroll_external/attachments/2c16cd824ace/image2023-7-17_11-18-6.png"></span> &nbsp;<span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img width="400" class="confluence-embedded-image scroll-document-image" src="_scroll_external/attachments/2656f6eb8e31/image2023-7-17_11-18-48.png"></span></p>
            </div></td>
          </tr>
          <tr>
           <td class="confluenceTd highlight-grey" data-highlight-colour="grey"><p>5</p></td>
           <td colspan="1" rowspan="1" class="confluenceTd"><p><span style="color: rgb(23,43,77);">Special Guest Profiles SQL Queries<br clear="none"></span></p></td>
           <td colspan="1" rowspan="1" class="confluenceTd">
            <div class="content-wrapper">
             <p><span style="color: rgb(23,43,77);">These queries need to be added to the below menu<br clear="none"></span><strong><span style="color: rgb(23,43,77);">Front Office → Options → protel Construction Kit → Guest Profiles SQL Queries<br clear="none"></span></strong></p>
             <p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img data-scroll-image-id="3020581c-2128-4aae-a34f-b5616d5d0285" class="confluence-embedded-image confluence-thumbnail scroll-document-image" src="_scroll_external/attachments/7e608448cdc6/guest_prof_sql_q.png" height="250"></span></p>
             <p class="auto-cursor-target"><span style="color: rgb(23,43,77);">The following guest profile SQL query for private profiles is required so that profiles can be looked up and downloaded from Allora CRM ( Maverick)<br clear="none"></span></p>
             <div class="scroll-code scroll-highlighted-code-block" data-theme="Confluence" data-title="Guest profile SQL Query - (English)" data-title-type="code" style="  counter-reset: scroll-code-numbering 0;">
              <div class="title">
               Guest profile SQL Query - (English)
              </div>
              <div class="confluence content" data-title="Guest profile SQL Query - (English)">
               <div class="line">
                <code class="plain">declare </code><code class="color1">@SQLString</code><code class="plain"> nvarchar(</code><code class="value">4000</code><code class="plain">);</code>
               </div>
               <div class="line">
                <code class="plain">declare </code><code class="color1">@name</code><code class="plain"> varchar(</code><code class="value">80</code><code class="plain">);</code>
               </div>
               <div class="line">
                <code class="plain">declare </code><code class="color1">@department</code><code class="plain"> varchar(</code><code class="value">80</code><code class="plain">);</code>
               </div>
               <div class="line">
                <code class="plain">declare </code><code class="color1">@vorname</code><code class="plain"> varchar(</code><code class="value">80</code><code class="plain">);</code>
               </div>
               <div class="line">
                <code class="plain">declare </code><code class="color1">@ort</code><code class="plain"> varchar(</code><code class="value">80</code><code class="plain">);</code>
               </div>
               <div class="line">
                <code class="plain">declare </code><code class="color1">@iata</code><code class="plain"> varchar(</code><code class="value">80</code><code class="plain">);</code>
               </div>
               <div class="line">
                <code class="plain">declare </code><code class="color1">@member</code><code class="plain"> varchar(</code><code class="value">80</code><code class="plain">);</code>
               </div>
               <div class="line">
                <code class="plain">declare </code><code class="color1">@remarks</code><code class="plain"> varchar(</code><code class="value">80</code><code class="plain">);</code>
               </div>
               <div class="line">
                <code class="plain">declare </code><code class="color1">@zip</code><code class="plain"> varchar(</code><code class="value">80</code><code class="plain">);</code>
               </div>
               <div class="line">
                <code class="plain">declare </code><code class="color1">@shortname</code><code class="plain"> varchar(</code><code class="value">80</code><code class="plain">);</code>
               </div>
               <div class="line">
                <code class="plain">declare </code><code class="color1">@email</code><code class="plain"> varchar(</code><code class="value">80</code><code class="plain">);</code>
               </div>
               <div class="line">
                <code class="plain">declare </code><code class="color1">@loyaltycard</code><code class="plain"> varchar(</code><code class="value">80</code><code class="plain">);</code>
               </div>
               <div class="line">
                <code class="plain">set nocount on;</code>
               </div>
               <div class="line">
                <code class="plain">set </code><code class="color1">@name</code><code class="plain">=</code><code class="string">'[&amp;Name:;name1;Lastname]%'</code><code class="plain">;</code>
               </div>
               <div class="line">
                <code class="plain">set </code><code class="color1">@vorname</code><code class="plain">=</code><code class="string">'[&amp;Vorname:;firstname;Firstname]%'</code><code class="plain">;</code>
               </div>
               <div class="line">
                <code class="plain">set </code><code class="color1">@shortname</code><code class="plain">=</code><code class="string">'[&amp;Suchname:;]%'</code><code class="plain">;</code>
               </div>
               <div class="line">
                <code class="plain">set </code><code class="color1">@department</code><code class="plain">=</code><code class="string">'[&amp;Abteilung:]%'</code><code class="plain">;</code>
               </div>
               <div class="line">
                <code class="plain">set </code><code class="color1">@ort</code><code class="plain">=</code><code class="string">'[&amp;Ort:;;City]%'</code><code class="plain">;</code>
               </div>
               <div class="line">
                <code class="plain">set </code><code class="color1">@zip</code><code class="plain">=</code><code class="string">'[&amp;Postleitzahl:;;Zipcode]%'</code><code class="plain">;</code>
               </div>
               <div class="line">
                <code class="plain">set </code><code class="color1">@iata</code><code class="plain">=</code><code class="string">'[&amp;IATA:;]%'</code><code class="plain">;</code>
               </div>
               <div class="line">
                <code class="plain">set </code><code class="color1">@member</code><code class="plain">=</code><code class="string">'[&amp;Member:;member]'</code><code class="plain">;</code>
               </div>
               <div class="line">
                <code class="plain">declare </code><code class="color1">@pwsCorrelationId</code><code class="plain"> varchar(</code><code class="value">80</code><code class="plain">);</code>
               </div>
               <div class="line">
                <code class="plain">set </code><code class="color1">@pwsCorrelationId</code><code class="plain">=</code><code class="string">'[&amp;pwsCorrelationId:;;CorrelationId]'</code><code class="plain">;</code>
               </div>
               <div class="line">
                <code class="plain">set </code><code class="color1">@remarks</code><code class="plain">=</code><code class="string">'%[&amp;Bemerkungen:]%'</code><code class="plain">;</code>
               </div>
               <div class="line">
                <code class="plain">set </code><code class="color1">@loyaltycard</code><code class="plain"> =</code><code class="string">'[&amp;Loyalty Card:;;MemberCardId]%'</code>
               </div>
               <div class="line">
                <code class="plain">SET </code><code class="color1">@SQLString</code><code class="plain"> = N'</code>
               </div>
               <div class="line">
                <code class="plain">(select kdnr,name1+</code><code class="string">''</code><code class="plain"> </code><code class="string">''</code><code class="plain">+name2+vorname as </code><code class="string">''</code><code class="plain">Name</code><code class="string">''</code><code class="plain">, shortname as </code><code class="string">''</code><code class="plain">Search Name</code><code class="string">''</code><code class="plain">, mastername+</code><code class="string">''</code><code class="plain"> </code><code class="string">''</code><code class="plain">+accountname as </code><code class="string">''</code><code class="plain">Master/Account</code><code class="string">''</code><code class="plain">,email as </code><code class="string">''</code><code class="plain">EMail</code><code class="string">''</code><code class="plain">,fibudeb as </code><code class="string">''</code><code class="plain">AR#</code><code class="string">''</code><code class="plain">,aufenth as </code><code class="string">''</code><code class="plain">Stays</code><code class="string">''</code><code class="plain">, ort as </code><code class="string">''</code><code class="plain">City</code><code class="string">''</code><code class="plain">, abteil as </code><code class="string">''</code><code class="plain">Department</code><code class="string">''</code><code class="plain">,strasse+</code><code class="string">''</code><code class="plain"> </code><code class="string">''</code><code class="plain">+strasse2+</code><code class="string">''</code><code class="plain"> </code><code class="string">''</code><code class="plain">+strasse3 as </code><code class="string">''</code><code class="plain">Address</code><code class="string">''</code><code class="plain">, resname+</code><code class="string">''</code><code class="plain"> </code><code class="string">''</code><code class="plain">+resvorn+</code><code class="string">''</code><code class="plain"> </code><code class="string">''</code><code class="plain">+resanr as </code><code class="string">''</code><code class="plain">Contact</code><code class="string">''</code><code class="plain">, gebdat as </code><code class="string">''</code><code class="plain">Birthdate</code><code class="string">''</code><code class="plain">, bemerkung as </code><code class="string">''</code><code class="plain">Remarks</code><code class="string">''</code><code class="plain">,</code>
               </div>
               <div class="line">
                <code class="keyword">case</code><code class="plain"> typ</code>
               </div>
               <div class="line">
                <code class="plain">when </code><code class="value">0</code><code class="plain"> then </code><code class="string">''</code><code class="plain">Gast</code><code class="string">''</code>
               </div>
               <div class="line">
                <code class="plain">when </code><code class="value">1</code><code class="plain"> then </code><code class="string">''</code><code class="plain">Firma</code><code class="string">''</code>
               </div>
               <div class="line">
                <code class="plain">when </code><code class="value">2</code><code class="plain"> then </code><code class="string">''</code><code class="plain">Gruppe</code><code class="string">''</code>
               </div>
               <div class="line">
                <code class="plain">when </code><code class="value">3</code><code class="plain"> then </code><code class="string">''</code><code class="plain">Reisebüro</code><code class="string">''</code>
               </div>
               <div class="line">
                <code class="plain">when </code><code class="value">4</code><code class="plain"> then </code><code class="string">''</code><code class="plain">Source</code><code class="string">''</code>
               </div>
               <div class="line">
                <code class="keyword">else</code><code class="plain"> </code><code class="string">''</code><code class="plain">invalid</code><code class="string">''</code>
               </div>
               <div class="line">
                <code class="plain">end as </code><code class="string">''</code><code class="plain">Typ</code><code class="string">''</code><code class="plain">,</code>
               </div>
               <div class="line">
                <code class="keyword">case</code><code class="plain"> when</code>
               </div>
               <div class="line">
                <code class="plain">(EXISTS</code>
               </div>
               <div class="line">
                <code class="plain">(SELECT *</code>
               </div>
               <div class="line">
                <code class="plain">FROM</code>
               </div>
               <div class="line">
                <code class="plain">mapping_to_external as t1</code>
               </div>
               <div class="line">
                <code class="plain">WHERE</code>
               </div>
               <div class="line">
                <code class="plain">t1.internalid = kdnr AND</code>
               </div>
               <div class="line">
                <code class="plain">t1.externalcontext = </code><code class="string">''</code><code class="plain">GHA</code><code class="string">''</code><code class="plain"> AND</code>
               </div>
               <div class="line">
                <code class="plain">t1.internalcontext = </code><code class="value">1</code>
               </div>
               <div class="line">
                <code class="plain">)</code>
               </div>
               <div class="line">
                <code class="plain">)</code>
               </div>
               <div class="line">
                <code class="plain">then </code><code class="value">91</code><code class="plain"> </code><code class="keyword">else</code><code class="plain"> </code><code class="keyword">case</code><code class="plain"> when (numaccounts&gt;</code><code class="value">0</code><code class="plain">) then </code><code class="value">85</code><code class="plain"> </code><code class="keyword">else</code><code class="plain"> </code><code class="keyword">case</code><code class="plain"> when (numcontacts&gt;</code><code class="value">0</code><code class="plain">) then </code><code class="value">86</code><code class="plain"> </code><code class="keyword">else</code><code class="plain"> </code><code class="keyword">case</code><code class="plain"> when accountname!=</code><code class="string">''</code><code class="string">''</code><code class="plain"> then </code><code class="value">87</code><code class="plain"> </code><code class="keyword">else</code><code class="plain"> </code><code class="keyword">case</code><code class="plain"> when mastername!=</code><code class="string">''</code><code class="string">''</code><code class="plain"> then </code><code class="value">86</code><code class="plain"> </code><code class="keyword">else</code><code class="plain"> </code><code class="value">80</code><code class="plain"> end end end end end as </code><code class="string">''</code><code class="plain">Icon</code><code class="string">''</code>
               </div>
               <div class="line">
                <code class="plain">,cpsid as CPSID,</code>
               </div>
               <div class="line">
                <code class="plain">(SELECT top </code><code class="value">1</code><code class="plain"> t1.externalid</code>
               </div>
               <div class="line">
                <code class="plain">FROM</code>
               </div>
               <div class="line">
                <code class="plain">mapping_to_external as t1</code>
               </div>
               <div class="line">
                <code class="plain">WHERE</code>
               </div>
               <div class="line">
                <code class="plain">t1.internalid = kdnr AND</code>
               </div>
               <div class="line">
                <code class="plain">t1.externalcontext = </code><code class="string">''</code><code class="plain">CRM</code><code class="string">''</code><code class="plain"> AND</code>
               </div>
               <div class="line">
                <code class="plain">t1.internalcontext = </code><code class="value">1</code><code class="plain">) as NextGuestID</code>
               </div>
               <div class="line">
                <code class="plain">from kunden'</code>
               </div>
               <div class="line">
                <code class="keyword">if</code><code class="plain"> (</code><code class="color1">@vorname</code><code class="plain">&lt;&gt;</code><code class="string">'%'</code><code class="plain">) SET </code><code class="color1">@SQLString</code><code class="plain"> = </code><code class="color1">@SQLString</code><code class="plain"> + N</code><code class="string">' where ((name1 like '</code><code class="string">''</code><code class="plain">+</code><code class="color1">@name</code><code class="plain">+</code><code class="string">''</code><code class="string">' and vorname like '</code><code class="string">''</code><code class="plain">+</code><code class="color1">@vorname</code><code class="plain">+</code><code class="string">''</code><code class="string">') or (rechname like '</code><code class="string">''</code><code class="plain">+</code><code class="color1">@name</code><code class="plain">+</code><code class="string">''</code><code class="string">' and rechvorn like '</code><code class="string">''</code><code class="plain">+</code><code class="color1">@vorname</code><code class="plain">+</code><code class="string">''</code><code class="string">') or (resname like '</code><code class="string">''</code><code class="plain">+</code><code class="color1">@name</code><code class="plain">+</code><code class="string">''</code><code class="string">' and resvorn like '</code><code class="string">''</code><code class="plain">+</code><code class="color1">@vorname</code><code class="plain">+</code><code class="string">''</code><code class="string">') or (shortname like '</code><code class="string">''</code><code class="plain">+</code><code class="color1">@name</code><code class="plain">+</code><code class="string">''</code><code class="string">' and vorname like '</code><code class="string">''</code><code class="plain">+</code><code class="color1">@vorname</code><code class="plain">+</code><code class="string">''</code><code class="string">'))'</code><code class="plain">;</code>
               </div>
               <div class="line">
                <code class="keyword">else</code><code class="plain"> SET </code><code class="color1">@SQLString</code><code class="plain"> = </code><code class="color1">@SQLString</code><code class="plain"> + N</code><code class="string">' where ((name1 like '</code><code class="string">''</code><code class="plain">+</code><code class="color1">@name</code><code class="plain">+</code><code class="string">''</code><code class="string">') or (rechname like '</code><code class="string">''</code><code class="plain">+</code><code class="color1">@name</code><code class="plain">+</code><code class="string">''</code><code class="string">') or (resname like '</code><code class="string">''</code><code class="plain">+</code><code class="color1">@name</code><code class="plain">+</code><code class="string">''</code><code class="string">') or (shortname like '</code><code class="string">''</code><code class="plain">+</code><code class="color1">@name</code><code class="plain">+</code><code class="string">''</code><code class="string">'))'</code><code class="plain">;</code>
               </div>
               <div class="line">
                <code class="keyword">if</code><code class="plain"> (</code><code class="color1">@ort</code><code class="plain">&lt;&gt;</code><code class="string">'%'</code><code class="plain">) SET </code><code class="color1">@SQLString</code><code class="plain"> = </code><code class="color1">@SQLString</code><code class="plain"> + N</code><code class="string">' and ort like '</code><code class="string">''</code><code class="plain">+</code><code class="color1">@ort</code><code class="plain">+</code><code class="string">''</code><code class="string">''</code><code class="plain">;</code>
               </div>
               <div class="line">
                <code class="keyword">if</code><code class="plain"> (</code><code class="color1">@iata</code><code class="plain">&lt;&gt;</code><code class="string">'%'</code><code class="plain">) SET </code><code class="color1">@SQLString</code><code class="plain"> = </code><code class="color1">@SQLString</code><code class="plain"> + N</code><code class="string">' and iata like '</code><code class="string">''</code><code class="plain">+</code><code class="color1">@iata</code><code class="plain">+</code><code class="string">''</code><code class="string">''</code><code class="plain">;</code>
               </div>
               <div class="line">
                <code class="keyword">if</code><code class="plain"> (</code><code class="color1">@email</code><code class="plain">&lt;&gt;</code><code class="string">'%'</code><code class="plain">) SET </code><code class="color1">@SQLString</code><code class="plain"> = </code><code class="color1">@SQLString</code><code class="plain"> + N</code><code class="string">' and email like '</code><code class="string">''</code><code class="plain">+</code><code class="color1">@email</code><code class="plain">+</code><code class="string">''</code><code class="string">''</code><code class="plain">;</code>
               </div>
               <div class="line">
                <code class="keyword">if</code><code class="plain"> (</code><code class="color1">@member</code><code class="plain">&lt;&gt;</code><code class="string">''</code><code class="plain">) SET </code><code class="color1">@SQLString</code><code class="plain"> = </code><code class="color1">@SQLString</code><code class="plain"> + N</code><code class="string">' and member='</code><code class="string">''</code><code class="plain">+</code><code class="color1">@member</code><code class="plain">+</code><code class="string">''</code><code class="string">''</code><code class="plain">;</code>
               </div>
               <div class="line">
                <code class="keyword">if</code><code class="plain"> (</code><code class="color1">@zip</code><code class="plain">&lt;&gt;</code><code class="string">'%'</code><code class="plain">) SET </code><code class="color1">@SQLString</code><code class="plain"> = </code><code class="color1">@SQLString</code><code class="plain"> + N</code><code class="string">' and plz like '</code><code class="string">''</code><code class="plain">+</code><code class="color1">@zip</code><code class="plain">+</code><code class="string">''</code><code class="string">''</code><code class="plain">;</code>
               </div>
               <div class="line">
                <code class="keyword">if</code><code class="plain"> (</code><code class="color1">@department</code><code class="plain">&lt;&gt;</code><code class="string">'%'</code><code class="plain">) SET </code><code class="color1">@SQLString</code><code class="plain"> = </code><code class="color1">@SQLString</code><code class="plain"> + N</code><code class="string">' and abteil like '</code><code class="string">''</code><code class="plain">+</code><code class="color1">@department</code><code class="plain">+</code><code class="string">''</code><code class="string">''</code><code class="plain">;</code>
               </div>
               <div class="line">
                <code class="keyword">if</code><code class="plain"> (</code><code class="color1">@remarks</code><code class="plain">&lt;&gt;</code><code class="string">'%%'</code><code class="plain">) SET </code><code class="color1">@SQLString</code><code class="plain"> = </code><code class="color1">@SQLString</code><code class="plain"> + N</code><code class="string">' and bemerkung like '</code><code class="string">''</code><code class="plain">+</code><code class="color1">@remarks</code><code class="plain">+</code><code class="string">''</code><code class="string">''</code><code class="plain">;</code>
               </div>
               <div class="line">
                <code class="keyword">if</code><code class="plain"> (</code><code class="color1">@shortname</code><code class="plain">&lt;&gt;</code><code class="string">'%'</code><code class="plain">) SET </code><code class="color1">@SQLString</code><code class="plain"> = </code><code class="color1">@SQLString</code><code class="plain"> + N</code><code class="string">' and shortname like '</code><code class="string">''</code><code class="plain">+</code><code class="color1">@shortname</code><code class="plain">+</code><code class="string">''</code><code class="string">''</code><code class="plain">;</code>
               </div>
               <div class="line">
                <code class="keyword">if</code><code class="plain"> (</code><code class="color1">@loyaltycard</code><code class="plain"> &lt;&gt;</code><code class="string">'%'</code><code class="plain">)SET </code><code class="color1">@SQLString</code><code class="plain"> = </code><code class="color1">@SQLString</code><code class="plain"> +N</code><code class="string">' and EXISTS (SELECT * FROM loyalcrd where loyalcrd.kdnr = kunden.kdnr and loyalcrd.accid like '</code><code class="string">''</code><code class="plain">+</code><code class="color1">@loyaltycard</code><code class="plain">+</code><code class="string">''</code><code class="string">')'</code><code class="plain">;</code>
               </div>
               <div class="line">
                <code class="plain">SET </code><code class="color1">@SQLString</code><code class="plain">=</code><code class="color1">@SQLString</code><code class="plain">+N</code><code class="string">' and typ=0 and deleted=0 )'</code>
               </div>
               <div class="line">
                <code class="plain">SET </code><code class="color1">@SQLString</code><code class="plain">=</code><code class="color1">@SQLString</code><code class="plain">+N' UNION (select TOP </code><code class="value">30</code>
               </div>
               <div class="line">
                <code class="plain">-ref as kdnr,</code>
               </div>
               <div class="line">
                <code class="plain">name1+</code><code class="string">''</code><code class="plain"> </code><code class="string">''</code><code class="plain">+name2+vorname as </code><code class="string">''</code><code class="plain">Name</code><code class="string">''</code><code class="plain">,</code>
               </div>
               <div class="line">
                <code class="plain">shortname as </code><code class="string">''</code><code class="plain">Suchname</code><code class="string">''</code><code class="plain">,</code>
               </div>
               <div class="line">
                <code class="plain">mastername+</code><code class="string">''</code><code class="plain"> </code><code class="string">''</code><code class="plain">+accountname as </code><code class="string">''</code><code class="plain">Master/Account</code><code class="string">''</code><code class="plain">,</code>
               </div>
               <div class="line">
                <code class="plain">fibudeb as </code><code class="string">''</code><code class="plain">Fibu</code><code class="string">''</code><code class="plain">,</code>
               </div>
               <div class="line">
                <code class="plain">email as </code><code class="string">''</code><code class="plain">EMail</code><code class="string">''</code><code class="plain">,</code>
               </div>
               <div class="line">
                <code class="plain">aufenth as </code><code class="string">''</code><code class="plain">Aufenth.</code><code class="string">''</code><code class="plain">,</code>
               </div>
               <div class="line">
                <code class="plain">ort as </code><code class="string">''</code><code class="plain">Ort</code><code class="string">''</code><code class="plain">,</code>
               </div>
               <div class="line">
                <code class="plain">abteil as </code><code class="string">''</code><code class="plain">Abteilung</code><code class="string">''</code><code class="plain">,</code>
               </div>
               <div class="line">
                <code class="plain">strasse+</code><code class="string">''</code><code class="plain"> </code><code class="string">''</code><code class="plain">+strasse2+</code><code class="string">''</code><code class="plain"> </code><code class="string">''</code><code class="plain">+strasse3 as </code><code class="string">''</code><code class="plain">Adresse</code><code class="string">''</code><code class="plain">,</code>
               </div>
               <div class="line">
                <code class="plain">resname+</code><code class="string">''</code><code class="plain"> </code><code class="string">''</code><code class="plain">+resvorn+</code><code class="string">''</code><code class="plain"> </code><code class="string">''</code><code class="plain">+resanr as </code><code class="string">''</code><code class="plain">Kontakt</code><code class="string">''</code><code class="plain">,</code>
               </div>
               <div class="line">
                <code class="plain">gebdat as </code><code class="string">''</code><code class="plain">Geb.Datum</code><code class="string">''</code><code class="plain">,</code>
               </div>
               <div class="line">
                <code class="plain">bemerkung as </code><code class="string">''</code><code class="plain">Bemerkungen</code><code class="string">''</code><code class="plain">,</code>
               </div>
               <div class="line">
                <code class="string">''</code><code class="plain">Gast</code><code class="string">''</code><code class="plain">,</code>
               </div>
               <div class="line">
                <code class="value">58</code><code class="plain"> as </code><code class="string">''</code><code class="plain">Icon</code><code class="string">''</code><code class="plain">,</code>
               </div>
               <div class="line">
                <code class="plain">cpsid as CPSID,</code>
               </div>
               <div class="line">
                <code class="string">''</code><code class="string">''</code><code class="plain"> as GHAID</code>
               </div>
               <div class="line">
                <code class="plain">from cpstmp</code>
               </div>
               <div class="line">
                <code class="plain">where (corId = </code><code class="string">''</code><code class="string">'+@pwsCorrelationId+'</code><code class="string">''</code><code class="plain">) AND NOT EXISTS</code>
               </div>
               <div class="line">
                <code class="plain">(</code>
               </div>
               <div class="line">
                <code class="plain">SELECT *</code>
               </div>
               <div class="line">
                <code class="plain">FROM</code>
               </div>
               <div class="line">
                <code class="plain">mapping_to_external as t1</code>
               </div>
               <div class="line">
                <code class="plain">WHERE</code>
               </div>
               <div class="line">
                <code class="plain">t1.externalid = cpstmp.cpsid AND</code>
               </div>
               <div class="line">
                <code class="plain">t1.externalcontext = cpstmp.cpssrc AND</code>
               </div>
               <div class="line">
                <code class="plain">t1.internalcontext = </code><code class="value">1</code>
               </div>
               <div class="line">
                <code class="plain">)</code>
               </div>
               <div class="line">
                <code class="plain">)';</code>
               </div>
               <div class="line">
                <code class="plain">SET </code><code class="color1">@SQLString</code><code class="plain"> = </code><code class="color1">@SQLString</code><code class="plain"> + N</code><code class="string">'order by Name,Ort,Abteil'</code><code class="plain">;</code>
               </div>
               <div class="line">
                <code class="plain">--print </code><code class="color1">@SQLString</code>
               </div>
               <div class="line">
                <code class="plain">exec sp_executesql </code><code class="color1">@SQLString</code>
               </div>
              </div>
             </div>
             <p class="auto-cursor-target"><span style="color: rgb(23,43,77);"><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img width="400" class="confluence-embedded-image scroll-document-image" src="_scroll_external/attachments/a998544d43da/image2023-7-17_11-32-46.png"></span><br clear="none"><br clear="none"></span></p>
             <div class="scroll-code scroll-highlighted-code-block" data-theme="Confluence" data-title="Profile SQL Queries Reservation Profile search" data-title-type="code" style="  counter-reset: scroll-code-numbering 0;">
              <div class="title">
               Profile SQL Queries Reservation Profile search
              </div>
              <div class="confluence content" data-title="Profile SQL Queries Reservation Profile search">
               <div class="line">
                <code class="plain">declare </code><code class="color1">@name</code><code class="plain"> varchar(</code><code class="value">80</code><code class="plain">);</code>
               </div>
               <div class="line">
                <code class="plain">declare </code><code class="color1">@department</code><code class="plain"> varchar(</code><code class="value">80</code><code class="plain">);</code>
               </div>
               <div class="line">
                <code class="plain">set nocount on;</code>
               </div>
               <div class="line">
                <code class="plain">set </code><code class="color1">@name</code><code class="plain">=</code><code class="string">'$SearchLName$%'</code><code class="plain">;</code>
               </div>
               <div class="line">
                <code class="plain">set </code><code class="color1">@department</code><code class="plain">=</code><code class="string">'$SearchDepartment$%'</code><code class="plain">;</code>
               </div>
               <div class="line">
                <code class="plain">declare </code><code class="color1">@CorrelationId</code><code class="plain"> varchar(</code><code class="value">80</code><code class="plain">);</code>
               </div>
               <div class="line">
                <code class="plain">set </code><code class="color1">@CorrelationId</code><code class="plain">=</code><code class="string">'$CorrelationId$'</code><code class="plain">;</code>
               </div>
               <div class="line">
                <code class="plain">(select kdnr,name1+</code><code class="string">' '</code><code class="plain">+vorname+</code><code class="string">' '</code><code class="plain">+anrede as </code><code class="string">'Name'</code><code class="plain">,mastername+</code><code class="string">' '</code><code class="plain">+accountname as </code><code class="string">'Master/Account'</code><code class="plain">,ort as </code><code class="string">'City'</code><code class="plain">,firmenname as </code><code class="string">'Company'</code><code class="plain">, gebdat as </code><code class="string">'Birthday'</code><code class="plain">,aufenth as </code><code class="string">'Stays'</code><code class="plain">,strasse as </code><code class="string">'Street'</code><code class="plain">,bemerkung as </code><code class="string">'Remarks'</code><code class="plain">, </code>
               </div>
               <div class="line">
                <code class="keyword">case</code><code class="plain"> when (EXISTS </code>
               </div>
               <div class="line">
                <code class="plain"> (SELECT * </code>
               </div>
               <div class="line">
                <code class="plain"> FROM </code>
               </div>
               <div class="line">
                <code class="plain"> mapping_to_external as t1 </code>
               </div>
               <div class="line">
                <code class="plain"> WHERE t1.internalid = kdnr AND </code>
               </div>
               <div class="line">
                <code class="plain"> t1.externalcontext = </code><code class="string">'GHA'</code><code class="plain"> AND </code>
               </div>
               <div class="line">
                <code class="plain"> t1.internalcontext = </code><code class="value">1</code><code class="plain"> </code>
               </div>
               <div class="line">
                <code class="plain"> )</code>
               </div>
               <div class="line">
                <code class="plain">) then </code><code class="value">91</code><code class="plain"> </code><code class="keyword">else</code><code class="plain"> </code><code class="keyword">case</code><code class="plain"> when (numaccounts&gt;</code><code class="value">0</code><code class="plain">) then </code><code class="value">85</code><code class="plain"> </code><code class="keyword">else</code><code class="plain"> </code><code class="keyword">case</code><code class="plain"> when (numcontacts&gt;</code><code class="value">0</code><code class="plain">) then </code><code class="value">86</code><code class="plain"> </code><code class="keyword">else</code><code class="plain"> </code><code class="keyword">case</code><code class="plain"> when accountname!=</code><code class="string">''</code><code class="plain"> then </code><code class="value">87</code><code class="plain"> </code><code class="keyword">else</code><code class="plain"> </code><code class="keyword">case</code><code class="plain"> when mastername!=</code><code class="string">''</code><code class="plain"> then </code><code class="value">86</code><code class="plain"> </code><code class="keyword">else</code><code class="plain"> </code><code class="value">80</code><code class="plain"> end end end end end as </code><code class="string">'Icon'</code>
               </div>
               <div class="line">
                <code class="plain">,cpsid as CPSID</code>
               </div>
               <div class="line">
                <code class="plain">from kunden </code>
               </div>
               <div class="line">
                <code class="plain">where (name1 like </code><code class="color1">@name</code><code class="plain"> or shortname like </code><code class="color1">@name</code><code class="plain">) and typ=</code><code class="value">0</code><code class="plain"> and deleted=</code><code class="value">0</code><code class="plain">)</code>
               </div>
               <div class="line">
                <code class="plain">UNION </code>
               </div>
               <div class="line">
                <code class="plain">(select TOP </code><code class="value">10</code><code class="plain"> </code>
               </div>
               <div class="line">
                <code class="plain"> -ref as kdnr, </code>
               </div>
               <div class="line">
                <code class="plain"> name1+</code><code class="string">' '</code><code class="plain">+vorname+</code><code class="string">' '</code><code class="plain">+anrede as </code><code class="string">'Name'</code><code class="plain">, </code>
               </div>
               <div class="line">
                <code class="plain"> mastername+</code><code class="string">' '</code><code class="plain">+accountname as </code><code class="string">'Master/Account'</code><code class="plain">, </code>
               </div>
               <div class="line">
                <code class="plain"> ort as </code><code class="string">'City'</code><code class="plain">, </code>
               </div>
               <div class="line">
                <code class="plain"> firmenname as </code><code class="string">'Company'</code><code class="plain">, </code>
               </div>
               <div class="line">
                <code class="plain"> gebdat as </code><code class="string">'Birthday'</code><code class="plain">, </code>
               </div>
               <div class="line">
                <code class="plain"> aufenth as </code><code class="string">'Stays'</code><code class="plain">, </code>
               </div>
               <div class="line">
                <code class="plain"> strasse as </code><code class="string">'Street'</code><code class="plain">, </code>
               </div>
               <div class="line">
                <code class="plain"> bemerkung as </code><code class="string">'Remarks'</code><code class="plain">, </code>
               </div>
               <div class="line">
                <code class="plain"> </code><code class="value">58</code><code class="plain"> as </code><code class="string">'Icon'</code><code class="plain">,</code>
               </div>
               <div class="line">
                <code class="plain"> cpsid as CPSID</code>
               </div>
               <div class="line">
                <code class="plain">from cpstmp </code>
               </div>
               <div class="line">
                <code class="plain"> where (corId = </code><code class="color1">@CorrelationId</code><code class="plain">) AND NOT EXISTS (</code>
               </div>
               <div class="line">
                <code class="plain"> SELECT * </code>
               </div>
               <div class="line">
                <code class="plain"> FROM </code>
               </div>
               <div class="line">
                <code class="plain"> mapping_to_external as t1 </code>
               </div>
               <div class="line">
                <code class="plain"> WHERE </code>
               </div>
               <div class="line">
                <code class="plain"> t1.externalid = cpstmp.cpsid AND </code>
               </div>
               <div class="line">
                <code class="plain"> t1.externalcontext = cpstmp.cpssrc AND </code>
               </div>
               <div class="line">
                <code class="plain"> t1.internalcontext = </code><code class="value">1</code><code class="plain"> </code>
               </div>
               <div class="line">
                <code class="plain"> ))</code>
               </div>
               <div class="line">
                <code class="plain">order by Name, City, Street</code>
               </div>
              </div>
             </div>
             <p class="auto-cursor-target"><span style="color: rgb(23,43,77);"><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img width="400" class="confluence-embedded-image scroll-document-image" src="_scroll_external/attachments/a0e1864988d1/image2023-7-17_11-34-55.png"></span><br clear="none"></span></p>
             <p class="auto-cursor-target"><span style="color: rgb(23,43,77);">The above profile search queries will return the following headings, depending on the language used, and so please take this into consideration during the installation in case any amendments are required to include site-specific data.<br clear="none"><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img data-scroll-image-id="aaffc70e-b158-4b5f-aa07-56e51f3b6d73" class="confluence-embedded-image scroll-document-image" src="_scroll_external/attachments/a0ce79eab0ac/allora-profilesearchtemplate.png" height="179"></span><br clear="none"></span></p>
            </div></td>
          </tr>
          <tr>
           <td class="confluenceTd highlight-grey" data-highlight-colour="grey"><p>6</p></td>
           <td colspan="1" rowspan="1" class="confluenceTd"><p><span style="color: rgb(0,0,0);">Special CKit Configuration</span></p><p><span style="color: rgb(0,0,0);"><span style="color: rgb(23,43,77);">xn_auto_gen_optin&nbsp;</span></span></p></td>
           <td colspan="1" rowspan="1" class="confluenceTd">
            <div class="content-wrapper">
             <p style="text-align: left;"><strong><span style="color: rgb(0,0,0);">Explanation</span></strong></p>
             <p style="text-align: left;">This ckit works in conjunction with the previously outlined optin and profile x-setups. The function of this ckit is to&nbsp;ensure that the individual preferences specified for "Advertisement" are reflected correctly in both the profile UI, and in the corresponding xml messages sent from via protelIO.&nbsp;</p>
             <p style="text-align: left;">In addition to populating the defaults in the optin table for new profiles, it also can be used to generate optin in the optin table for any profiles that haven't previously created optin entries</p>
             <p style="text-align: left;">If this ckit is not installed at a site there is a possibility that the profile UI will not match what has been configured in the x-setup and that the optin table will not have values for all profiles</p>
             <p style="text-align: left;">There are two versions of this ckit available&nbsp;</p>
             <ul>
              <li>Version "A"</li>
              <li>Version "B"</li>
             </ul>
             <p style="text-align: left;">The main difference between these two versions is that version <strong>"A"</strong> will ignore individual optin values for new profiles in favour of the mailing default, whereas version <strong>"B"</strong> will take the individual optin preferences into consideration when creating new profiles.</p>
             <div class="confluence-information-macro confluence-information-macro-information">
              <p class="title conf-macro-render">Optin Ckit</p><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span>
              <div class="confluence-information-macro-body">
               <p>Please create a support ticket with Partner support to receive the latest version of these ckits&nbsp;</p>
              </div>
             </div>
             <p style="text-align: left;"><strong>Installation and examples&nbsp;</strong></p>
             <p style="text-align: left;">This ckit should be placed in the standard xml folder within the system directory and does not require to be registered in system data.</p>
             <p style="text-align: left;"><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img width="856" class="confluence-embedded-image confluence-content-image-border scroll-document-image" src="_scroll_external/attachments/1b52344a250c/image2020-10-6_10-24-4.png" height="192"></span></p>
             <p style="text-align: left;">After the ckit has been entered in the system directory, open the construction kit option in system data. There is now an entry entitled "Auto Generate Optin" as shown below.</p>
             <p style="text-align: left;"><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img width="368" class="confluence-embedded-image confluence-content-image-border scroll-document-image" src="_scroll_external/attachments/bf066e6de26c/image2020-11-24_16-20-59.png" height="93"></span></p>
             <p style="text-align: left;">The function of this option is to create <strong>optin</strong> entries that have not been created for existing profiles.&nbsp;</p>
             <p style="text-align: left;">Execute this function and once complete the following message wíll appear. The optin table will now be populated for all existing profiles in protel.<br clear="none"><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img width="514" class="confluence-embedded-image confluence-content-image-border scroll-document-image" src="_scroll_external/attachments/d18a24841ca5/image2020-11-24_16-30-17.png" height="250"></span></p>
             <p style="text-align: left;"><strong>Example&nbsp; - new profile creation with Version A</strong></p>
             <p style="text-align: left;">Once in place, if the user for example was to configure the individual optin xsetup for "Advertisement" as shown below:&nbsp;</p>
             <p style="text-align: left;"><strong><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img width="631" class="confluence-embedded-image confluence-content-image-border scroll-document-image" src="_scroll_external/attachments/0ae1c614ae34/image2020-10-7_10-23-26.png" height="88"></span></strong></p>
             <p style="text-align: left;"><span style="color: rgb(23,43,77);">alongside the "mailingdefault_0" shown below</span></p>
             <p style="text-align: left;"><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img width="577" class="confluence-embedded-image confluence-content-image-border scroll-document-image" src="_scroll_external/attachments/e62e7869d059/image2020-12-8_16-54-36.png" height="28"></span></p>
             <p style="text-align: left;"><span style="color: rgb(23,43,77);">then when a new profile is created the individual preferences are ignored in favour of the setting from the mailingdefault_0 and the advertisement section would appear as below</span></p>
             <p style="text-align: left;"><span style="color: rgb(23,43,77);"><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img width="250" class="confluence-embedded-image confluence-content-image-border scroll-document-image" src="_scroll_external/attachments/6acc88d29eff/image2020-10-7_10-26-54.png" height="83"></span></span></p>
             <p style="text-align: left;"><strong>Example&nbsp; - new profile creation with Version B&nbsp;</strong></p>
             <p style="text-align: left;">Once in place, if the user for example was to configure the individual optin xsetup for "Advertisement" as shown below:&nbsp;</p>
             <p style="text-align: left;"><span style="color: rgb(23,43,77);"><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img width="632" class="confluence-embedded-image confluence-content-image-border scroll-document-image" src="_scroll_external/attachments/cba32f38fffb/image2020-7-16_17-5-1.png" height="83"></span></span></p>
             <p style="text-align: left;"><span style="color: rgb(23,43,77);">alongside the "mailingdefault_0" shown below</span></p>
             <p style="text-align: left;"><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img width="577" class="confluence-embedded-image confluence-content-image-border scroll-document-image" src="_scroll_external/attachments/e62e7869d059/image2020-12-8_16-54-36.png" height="28"></span></p>
             <p style="text-align: left;"><span style="color: rgb(23,43,77);">then these individual preferences would be reflected in the defaults when a profile is created as shown in the example below</span></p>
             <p style="text-align: left;"><span style="color: rgb(23,43,77);"><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img width="236" class="confluence-embedded-image confluence-content-image-border scroll-document-image" src="_scroll_external/attachments/0ba828ea7e31/image2020-10-7_10-7-52.png" height="74"></span></span></p>
             <p style="text-align: left;"><strong>Ramifications of no ckit installed</strong></p>
             <p style="text-align: left;">If the ckit was not present and the user was to have the profile x-setup "mailingdefault_0 = 1" in place for example, then all individual preferences are ignored.</p>
             <p style="text-align: left;">In this scenario, all permissions would be set to "Yes" instead as the "mailingdefault" setting is currently overriding the individual preferences.</p>
             <p style="text-align: left;">The resulting default profile would appear like this, without the individual permissions being expressed as required.</p>
             <p style="text-align: left;"><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img width="230" class="confluence-embedded-image confluence-content-image-border scroll-document-image" src="_scroll_external/attachments/a7c421c17f34/image2020-7-16_17-6-32.png" height="91"></span></p>
             <div class="content-wrapper">
              <p><br clear="none"></p>
             </div>
            </div></td>
          </tr>
          <tr>
           <td class="confluenceTd highlight-grey" data-highlight-colour="grey"><p>7</p></td>
           <td colspan="1" rowspan="1" class="confluenceTd">
            <div class="content-wrapper">
             <p><span style="color: rgb(23,43,77);"><span style="color: rgb(0,0,0);">Bob installation:</span> one for OnPremise (if not existing) and one for the Integration <span>&nbsp;</span></span></p>
             <ul>
              <li>provide the token corresponding to the integration partner&nbsp;<span style="color: rgb(23,43,77);">on private Slack message or encrypted file by email and inform you by phone about the password.</span></li>
             </ul>
             <p><br clear="none"></p>
             <div class="confluence-information-macro confluence-information-macro-information">
              <p class="title conf-macro-render">Data Security</p><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span>
              <div class="confluence-information-macro-body">
               <p><span style="color: rgb(0,0,0);">Please have in mind that both vendor and IO interface token information is sensitive information that might be transported by Slack, <br clear="none"></span><span style="color: rgb(0,0,0);">team viewer session in case of a 1:1 session, </span><span style="color: rgb(0,0,0);">or with two-way&nbsp;authentication methods by other media.&nbsp;</span></p>
              </div>
             </div>
            </div></td>
           <td colspan="1" rowspan="1" class="confluenceTd">
            <div class="content-wrapper">
             <p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img width="1200" class="confluence-embedded-image scroll-document-image" src="_scroll_external/attachments/a4c54639dd2b/allora_bob_hotel_inst.png"></span></p>
            </div></td>
          </tr>
          <tr>
           <td class="confluenceTd highlight-grey" data-highlight-colour="grey"><p>8</p></td>
           <td colspan="1" rowspan="1" class="confluenceTd"><p>PWS Configuration</p>
            <ul>
             <li>update to the latest release&nbsp;version&nbsp;</li>
             <li>update I/O configuration</li>
            </ul></td>
           <td colspan="1" rowspan="1" class="confluenceTd"><p><br clear="none"></p></td>
          </tr>
          <tr>
           <td class="confluenceTd highlight-grey" data-highlight-colour="grey"><p>9</p></td>
           <td colspan="1" rowspan="1" class="confluenceTd"><p><a rel="nofollow" href="https://confluence.protel.net/pages/viewpage.action?pageId=51250278" shape="rect" class="external-link scroll-external-link" data-scroll-link-type="default" data-scroll-link-target="https://confluence.protel.net/pages/viewpage.action?pageId=51250278" data-scroll-link-local="false">Manual Correction (Support-Tool Use Case)</a><span class="auto-cursor-target">&nbsp;</span></p></td>
           <td colspan="1" rowspan="1" class="confluenceTd"><p><br clear="none"></p></td>
          </tr>
         </tbody>
        </table>
       </div>
       <div class="table-wrap">
        <table class="wrapped confluenceTable tableenhancer tableenhancer-rownums-onceBeforeSorting">
         <colgroup span="1">
          <col span="1">
          <col span="1">
         </colgroup>
         <thead>
          <tr>
           <th colspan="1" rowspan="1" class="confluenceTh"><p>&nbsp;</p></th>
           <th colspan="1" rowspan="1" class="confluenceTh"><h3 id="Allora(Maverick)CRMonpremInstallationguide-OnewayInstallation" data-scroll-heading-rank-offset="1" data-scroll-heading-rank="3" data-scroll-original-heading-rank="4" data-scroll-relative-heading-rank="3" class="scroll-original-h4 scroll-non-section-heading scroll-h3 scroll-relative-h3"><em><strong>One way Installation</strong></em></h3></th>
           <th colspan="1" rowspan="1" class="confluenceTh"><p><br clear="none"></p></th>
          </tr>
         </thead>
         <tbody>
          <tr>
           <td class="confluenceTd highlight-grey" data-highlight-colour="grey"><p>1</p></td>
           <td colspan="1" rowspan="1" class="confluenceTd"><p>PWS Configuration</p>
            <ul>
             <li>enable LiveMode and activate ToggleTrigger for required message types for 1-way connection</li>
            </ul>
            <div class="table-wrap">
             <table class="wrapped confluenceTable" data-mce-resize="false">
              <thead>
               <tr>
                <th colspan="1" rowspan="1" class="confluenceTh"><p><span style="color: rgb(255,0,0);">Message type</span></p></th>
                <th colspan="1" rowspan="1" class="confluenceTh"><p><span style="color: rgb(255,0,0);">LiveMode</span></p></th>
                <th colspan="1" rowspan="1" class="confluenceTh"><p><span style="color: rgb(255,0,0);">TriggerEnabled</span></p></th>
               </tr>
              </thead>
              <tbody>
               <tr>
                <td colspan="1" rowspan="1" class="confluenceTd"><p><span style="color: rgb(0,51,102);">OTA_HotelResNotifRQ </span></p></td>
                <td colspan="1" rowspan="1" class="confluenceTd"><p><img alt="(tick)" data-emoticon-name="tick" class="emoticon emoticon-tick scroll-document-image" src="_scroll_external/icons/ea52f49b26f0/check.svg" data-emoji-short-name=":tick:"></p></td>
                <td colspan="1" rowspan="1" class="confluenceTd"><p><img alt="(tick)" data-emoticon-name="tick" class="emoticon emoticon-tick scroll-document-image" src="_scroll_external/icons/ea52f49b26f0/check.svg" data-emoji-short-name=":tick:"></p></td>
               </tr>
               <tr>
                <td colspan="1" rowspan="1" class="confluenceTd"><p><span style="color: rgb(0,51,102);">OTA_ProfileCreateRQ </span></p></td>
                <td colspan="1" rowspan="1" class="confluenceTd"><p><img alt="(tick)" data-emoticon-name="tick" class="emoticon emoticon-tick scroll-document-image" src="_scroll_external/icons/ea52f49b26f0/check.svg" data-emoji-short-name=":tick:"></p></td>
                <td colspan="1" rowspan="1" class="confluenceTd"><p><img alt="(tick)" data-emoticon-name="tick" class="emoticon emoticon-tick scroll-document-image" src="_scroll_external/icons/ea52f49b26f0/check.svg" data-emoji-short-name=":tick:"></p></td>
               </tr>
               <tr>
                <td colspan="1" rowspan="1" class="confluenceTd"><p><span style="color: rgb(0,51,102);">OTA_ProfileModifyRQ </span></p></td>
                <td colspan="1" rowspan="1" class="confluenceTd"><p><img alt="(tick)" data-emoticon-name="tick" class="emoticon emoticon-tick scroll-document-image" src="_scroll_external/icons/ea52f49b26f0/check.svg" data-emoji-short-name=":tick:"></p></td>
                <td colspan="1" rowspan="1" class="confluenceTd"><p><img alt="(tick)" data-emoticon-name="tick" class="emoticon emoticon-tick scroll-document-image" src="_scroll_external/icons/ea52f49b26f0/check.svg" data-emoji-short-name=":tick:"></p></td>
               </tr>
               <tr>
                <td colspan="1" rowspan="1" class="confluenceTd"><p>OTA_HotelStayInfoNotifRQ</p></td>
                <td colspan="1" rowspan="1" class="confluenceTd"><p><img alt="(tick)" data-emoticon-name="tick" class="emoticon emoticon-tick scroll-document-image" src="_scroll_external/icons/ea52f49b26f0/check.svg" data-emoji-short-name=":tick:"></p></td>
                <td colspan="1" rowspan="1" class="confluenceTd">
                 <div class="content-wrapper">
                  <span class="confluence-embedded-file-wrapper"><img alt="(error)" class="confluence-embedded-image scroll-document-image" src="_scroll_external/remote/c1a9fc6e1c03/error.svg"></span>
                 </div></td>
               </tr>
               <tr>
                <td colspan="1" rowspan="1" class="confluenceTd"><p><span style="color: rgb(0,51,102);">OTA_ReadRQ</span></p></td>
                <td colspan="1" rowspan="1" class="confluenceTd"><p><img alt="(tick)" data-emoticon-name="tick" class="emoticon emoticon-tick scroll-document-image" src="_scroll_external/icons/ea52f49b26f0/check.svg" data-emoji-short-name=":tick:"></p></td>
                <td colspan="1" rowspan="1" class="confluenceTd">
                 <div class="content-wrapper">
                  <span class="confluence-embedded-file-wrapper"><img alt="(error)" class="confluence-embedded-image scroll-document-image" src="_scroll_external/remote/c1a9fc6e1c03/error.svg"></span>
                 </div></td>
               </tr>
              </tbody>
             </table>
            </div></td>
           <td colspan="1" rowspan="1" class="confluenceTd">
            <div class="content-wrapper">
             <p><span style="color: rgb(255,0,0);"><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img width="600" class="confluence-embedded-image scroll-document-image" src="_scroll_external/attachments/63da52755404/allora_installation_pws.png"></span></span></p>
            </div></td>
          </tr>
          <tr>
           <td class="confluenceTd highlight-grey" data-highlight-colour="grey"><p>2</p></td>
           <td colspan="1" rowspan="1" class="confluenceTd"><p><span style="color: rgb(0,0,0);">Create a test reservation in the future (at least one year after the system date) &amp;&nbsp;provide the reservation number to your integration partner</span></p>
            <ul>
             <li>make a modification and finally a cancellation of your test reservation. Verify in Kibana that outgoing OTA_HotelResNotifRQ is answered by OTA_HotelResNotifRS and no error occurs.&nbsp;</li>
            </ul></td>
           <td colspan="1" rowspan="1" class="confluenceTd"><p><br clear="none"></p></td>
          </tr>
          <tr>
           <td class="confluenceTd highlight-grey" data-highlight-colour="grey"><p>3</p></td>
           <td colspan="1" rowspan="1" class="confluenceTd">
            <div class="content-wrapper">
             <p><span>Create and start bulk uploads</span><span><br clear="none"></span></p>
             <ul>
              <li><span style="color: rgb(0,51,102);">for profiles (OTA_ProfileCreateRQ)&nbsp;<br clear="none"></span>for the last<span style="color: rgb(0,0,0);"> </span><span style="color: rgb(255,0,0);"><span style="color: rgb(0,0,0);">2</span> </span>years&nbsp;<br clear="none"><br clear="none"></li>
              <li>for reservations (OTA_HotelResNotifRQ) <br clear="none">for the last<span style="color: rgb(0,0,0);"> </span><span style="color: rgb(255,0,0);"><span style="color: rgb(0,0,0);">2</span> </span>years and ending 31/12/2099</li>
              <li>for revenue attached to profiles (OTA_HotelStayInfoNotifRQ)&nbsp;<br clear="none">for the last <span style="color: rgb(255,0,0);"><span style="color: rgb(0,0,0);">2</span> </span>years<br clear="none"><br clear="none"><br clear="none"></li>
             </ul>
             <p><br clear="none"></p>
             <div class="expand-container">
              <div class="expand-content">
               <p><span>BTS Jobs will be processed one by one as only one bulk per property is allowed at the same time.&nbsp;</span></p>
               <p><span>Bulks should be starting with 1 January and ending with 31 of December (i.e. 01.01.2017 - 31.12.2021).</span></p>
               <p><span><span style="color: rgb(29,28,29);">Check for failed messages after the bulk upload</span><span style="color: rgb(23,43,77);">:&nbsp;</span><a rel="nofollow" style="text-decoration: none;text-align: left;" href="https://confluence.protel.net/pages/viewpage.action?pageId=51250278" shape="rect" class="external-link scroll-external-link" data-scroll-link-type="default" data-scroll-link-target="https://confluence.protel.net/pages/viewpage.action?pageId=51250278" data-scroll-link-local="false">Manual Correction (Support-Tool Use Cases)</a><span style="color: rgb(23,43,77);">&nbsp;</span></span></p>
               <p><span>In case you have issues with a stuck bulk upload, investigate why messages were not sent. As an option, delete the old job and create a new one.&nbsp;</span></p>
              </div>
             </div>
            </div></td>
           <td colspan="1" rowspan="1" class="confluenceTd">
            <div class="content-wrapper">
             <div class="confluence-information-macro confluence-information-macro-information">
              <p class="title conf-macro-render">Attention</p><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span>
              <div class="confluence-information-macro-body">
               <p><strong>Allora CRM cannot accept OTA_HotelResNotifRQ bulk unless OTA_ProfileCreateRQ has been finished successfully first</strong></p>
              </div>
             </div>
            </div></td>
          </tr>
          <tr>
           <td class="confluenceTd highlight-grey" data-highlight-colour="grey"><p>4</p></td>
           <td colspan="1" rowspan="1" class="confluenceTd"><p>Testing of profile lookup functionality&nbsp;</p></td>
           <td colspan="1" rowspan="1" class="confluenceTd">
            <div class="content-wrapper">
             <p>This functionality allows a protel user to lookup and download profiles that exist in the Allora CRM system.</p>
             <p>To test this please follow the steps below:</p>
             <ul>
              <li>Ask Allora CRM to create and then provide you with the details of a test individual profile they have created in their system (please bear in mind you will need at least the information defined in the mandatory rule x-setting you specified during setup)</li>
              <li>Access the profile menu from the protel taskbar to display the following and enter the details of the profile provided by Allora CRM</li>
             </ul>
             <p><br clear="none"></p>
             <p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img data-scroll-image-id="c4b04b7e-5fe5-4d06-8ef7-456fa56e6eaf" class="confluence-embedded-image confluence-thumbnail scroll-document-image" src="_scroll_external/attachments/49241ef04631/image2023-7-17_12-2-20.png" height="250"></span></p>
             <ul>
              <li>Clicking "OK" will retrieve profiles that match the search criteria with profiles as shown below (note the CPSID field is populated with the Allora CRM profile ID)</li>
             </ul>
            </div><p><br clear="none"><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img data-scroll-image-id="f18e3ffa-e53c-457b-9aef-c62e6e53afbf" class="confluence-embedded-image scroll-document-image" src="_scroll_external/attachments/7a9acc729184/allora_profilelookup_2.png" height="250"></span></p>
            <ul>
             <li>Profiles that exist in Allora CRM but that have not yet been downloaded will appear with this <span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img data-scroll-image-id="5edd631e-acc1-4a9c-9882-902ff3f51e65" class="confluence-embedded-image confluence-thumbnail scroll-document-image" src="_scroll_external/attachments/7999e7e42181/image2020-8-21_15-54-23.png" height="24"></span> &nbsp;symbol adjacent to their name</li>
            </ul><p>Clicking the "OK" button on the profile search in protel triggers an OTA_ReadRQ message to Allora CRMrequesting profiles that match the search criteria. In response to this OTA_ReadRQ, Allora CRM will return an OTA_ProfileReadRS containing the relevant profile information.&nbsp;&nbsp;</p><p>This can be viewed in kibana as shown below<br clear="none"><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img width="913" class="confluence-embedded-image confluence-content-image-border scroll-document-image" src="_scroll_external/attachments/c4e8a5291d00/image2020-8-20_17-27-11.png" height="119"></span></p><p><br clear="none"></p>
            <div class="scroll-code scroll-highlighted-code-block" data-title="Example - OTA_ReadRQ" data-title-type="code" data-theme="defaultnew" style="  counter-reset: scroll-code-numbering 0;">
             <div class="title">
              Example - OTA_ReadRQ
             </div>
             <div class="defaultnew content" data-title="Example - OTA_ReadRQ">
              <div class="line">
               <code class="plain">&lt;?xml version=</code><code class="string">"1.0"</code><code class="plain"> encoding=</code><code class="string">"utf-8"</code><code class="plain">?&gt;</code>
              </div>
              <div class="line">
               <code class="plain">&lt;env:Envelope xmlns:env=</code><code class="string">"http://www.w3.org/2003/05/soap-envelope"</code><code class="plain"> xmlns:htnga=</code><code class="string">"http://htng.org/PWSWG/2007/02/AsyncHeaders"</code><code class="plain"> xmlns:xsd=</code><code class="string">"http://www.w3.org/2001/XMLSchema"</code><code class="plain"> xmlns:xsi=</code><code class="string">"http://www.w3.org/2001/XMLSchema-instance"</code><code class="plain">&gt;</code>
              </div>
              <div class="line">
               <code class="plain"> &lt;env:Header&gt;</code>
              </div>
              <div class="line">
               <code class="plain"> &lt;htnga:CorrelationID&gt;DDD118B2-F0EC-417B-855D-A46CFBC4DB7D&lt;/htnga:CorrelationID&gt;</code>
              </div>
              <div class="line">
               <code class="plain"> &lt;Target xmlns=</code><code class="string">"http://protel.io/soap"</code><code class="plain">&gt;com.windsurfercrs.maverickcrmshr&lt;/Target&gt;</code>
              </div>
              <div class="line">
               <code class="plain"> &lt;Source xmlns=</code><code class="string">"http://protel.io/soap"</code><code class="plain"> Module=</code><code class="string">"protel.WebServices"</code><code class="plain"> ModuleVersion=</code><code class="string">"3.9.0.12079"</code><code class="plain"> Product=</code><code class="string">"protel On Premise MPE"</code><code class="plain"> ProductVersion=</code><code class="string">"22.05000"</code><code class="plain"> Service=</code><code class="string">"io.protel.onpremise"</code><code class="plain">/&gt;</code>
              </div>
              <div class="line">
               <code class="plain"> &lt;/env:Header&gt;</code>
              </div>
              <div class="line">
               <code class="plain"> &lt;env:Body&gt;</code>
              </div>
              <div class="line">
               <code class="plain"> &lt;OTA_ReadRQ xmlns=</code><code class="string">"http://www.opentravel.org/OTA/2003/05"</code><code class="plain"> CorrelationID=</code><code class="string">"DDD118B2-F0EC-417B-855D-A46CFBC4DB7D"</code><code class="plain"> EchoToken=</code><code class="string">"DDD118B2-F0EC-417B-855D-A46CFBC4DB7D"</code><code class="plain"> MaxResponses=</code><code class="string">"10"</code><code class="plain"> PrimaryLangID=</code><code class="string">"en"</code><code class="plain"> TimeStamp=</code><code class="string">"2022-10-06T12:42:58Z"</code><code class="plain"> Version=</code><code class="string">"3.500"</code><code class="plain">&gt;</code>
              </div>
              <div class="line">
               <code class="plain"> &lt;POS&gt;</code>
              </div>
              <div class="line">
               <code class="plain"> &lt;Source&gt;</code>
              </div>
              <div class="line">
               <code class="plain"> &lt;RequestorID ID=</code><code class="string">"2654"</code><code class="plain"> ID_Context=</code><code class="string">"protelIO"</code><code class="plain"> Type=</code><code class="string">"10"</code><code class="plain">/&gt;</code>
              </div>
              <div class="line">
               <code class="plain"> &lt;BookingChannel Primary=</code><code class="string">"true"</code><code class="plain"> Type=</code><code class="string">"4"</code><code class="plain">/&gt;</code>
              </div>
              <div class="line">
               <code class="plain"> &lt;TPA_Extensions&gt;</code>
              </div>
              <div class="line">
               <code class="plain"> &lt;px:POSExtensions xmlns:px=</code><code class="string">"http://protel.io/htng/extensions"</code><code class="plain">&gt;</code>
              </div>
              <div class="line">
               <code class="plain"> &lt;px:HotelInfo FiscalDate=</code><code class="string">"2022-07-18"</code><code class="plain">/&gt;</code>
              </div>
              <div class="line">
               <code class="plain"> &lt;/px:POSExtensions&gt;</code>
              </div>
              <div class="line">
               <code class="plain"> &lt;/TPA_Extensions&gt;</code>
              </div>
              <div class="line">
               <code class="plain"> &lt;/Source&gt;</code>
              </div>
              <div class="line">
               <code class="plain"> &lt;/POS&gt;</code>
              </div>
              <div class="line">
               <code class="plain"> &lt;UniqueID ID=</code><code class="string">"2654"</code><code class="plain"> ID_Context=</code><code class="string">"protelIO"</code><code class="plain"> Type=</code><code class="string">"10"</code><code class="plain">&gt;</code>
              </div>
              <div class="line">
               <code class="plain"> &lt;CompanyName Code=</code><code class="string">"2654"</code><code class="plain"> CodeContext=</code><code class="string">"io.protel.onpremise"</code><code class="plain"> CompanyShortName=</code><code class="string">"Mountain Hotel Luis, AT-5710 Kaprun"</code><code class="plain"> TravelSector=</code><code class="string">"3"</code><code class="plain">/&gt;</code>
              </div>
              <div class="line">
               <code class="plain"> &lt;/UniqueID&gt;</code>
              </div>
              <div class="line">
               <code class="plain"> &lt;ReadRequests&gt;</code>
              </div>
              <div class="line">
               <code class="plain"> &lt;ProfileReadRequest ProfileTypeCode=</code><code class="string">"1"</code><code class="plain">&gt;</code>
              </div>
              <div class="line">
               <code class="plain"> &lt;Customer&gt;</code>
              </div>
              <div class="line">
               <code class="plain"> &lt;PersonName&gt;</code>
              </div>
              <div class="line">
               <code class="plain"> &lt;GivenName&gt;Amanda&lt;/GivenName&gt;</code>
              </div>
              <div class="line">
               <code class="plain"> &lt;Surname&gt;Milam&lt;/Surname&gt;</code>
              </div>
              <div class="line">
               <code class="plain"> &lt;/PersonName&gt;</code>
              </div>
              <div class="line">
               <code class="plain"> &lt;/Customer&gt;</code>
              </div>
              <div class="line">
               <code class="plain"> &lt;/ProfileReadRequest&gt;</code>
              </div>
              <div class="line">
               <code class="plain"> &lt;/ReadRequests&gt;</code>
              </div>
              <div class="line">
               <code class="plain"> &lt;/OTA_ReadRQ&gt;</code>
              </div>
              <div class="line">
               <code class="plain"> &lt;/env:Body&gt;</code>
              </div>
              <div class="line">
               <code class="plain">&lt;/env:Envelope&gt;</code>
              </div>
             </div>
            </div><p class="auto-cursor-target">Example OTA_ProfileReadRS</p>
            <div class="scroll-code scroll-highlighted-code-block" data-title="Example OTA_ProfileReadRS" data-title-type="code" data-theme="defaultnew" style="  counter-reset: scroll-code-numbering 0;">
             <div class="title">
              Example OTA_ProfileReadRS
             </div>
             <div class="defaultnew content" data-title="Example OTA_ProfileReadRS">
              <div class="line">
               <code class="plain">&lt;s:Envelope xmlns:s=</code><code class="string">"http://www.w3.org/2003/05/soap-envelope"</code><code class="plain"> xmlns:wsa=</code><code class="string">"http://www.w3.org/2005/08/addressing"</code><code class="plain"> xmlns:p=</code><code class="string">"http://protel.io/soap"</code><code class="plain"> xmlns:htng=</code><code class="string">"http://htng.org/PWSWG/2007/02/AsyncHeaders"</code><code class="plain">&gt;</code>
              </div>
              <div class="line">
               <code class="plain"> &lt;s:Header&gt;</code>
              </div>
              <div class="line">
               <code class="plain"> &lt;htng:CorrelationID xmlns:htng=</code><code class="string">"http://htng.org/PWSWG/2007/02/AsyncHeaders"</code><code class="plain">&gt;E74EA221-</code><code class="value">8185</code><code class="plain">-4F8A-AC29-4B8DCEEEC018&lt;/htng:CorrelationID&gt;</code>
              </div>
              <div class="line">
               <code class="plain"> &lt;p:Token xmlns:p=</code><code class="string">"http://protel.io/soap"</code><code class="plain">&gt;5c3706b2-</code><code class="value">9172</code><code class="plain">-4ac8-adbc-57e97e27e967&lt;/p:Token&gt;</code>
              </div>
              <div class="line">
               <code class="plain"> &lt;wsa:Action s:mustUnderstand=</code><code class="string">"1"</code><code class="plain"> xmlns:wsa=</code><code class="string">"http://www.w3.org/2005/08/addressing"</code><code class="plain">&gt;http://htng.org/PWSWG/</code><code class="value">2010</code><code class="plain">/</code><code class="value">12</code><code class="plain">/OTA_ReadRQ_SubmitRequest&lt;/wsa:Action&gt;</code>
              </div>
              <div class="line">
               <code class="plain"> &lt;/s:Header&gt;</code>
              </div>
              <div class="line">
               <code class="plain"> &lt;s:Body&gt;</code>
              </div>
              <div class="line">
               <code class="plain"> &lt;OTA_ProfileReadRS xmlns:xsd=</code><code class="string">"http://www.w3.org/2001/XMLSchema"</code><code class="plain"> xmlns:xsi=</code><code class="string">"http://www.w3.org/2001/XMLSchema-instance"</code><code class="plain"> EchoToken=</code><code class="string">"E74EA221-8185-4F8A-AC29-4B8DCEEEC018"</code><code class="plain"> TimeStamp=</code><code class="string">"2022-10-04T13:30:28.8468006Z"</code><code class="plain"> Version=</code><code class="string">"0"</code><code class="plain"> xmlns=</code><code class="string">"http://www.opentravel.org/OTA/2003/05"</code><code class="plain">&gt;</code>
              </div>
              <div class="line">
               <code class="plain"> &lt;Profiles&gt;</code>
              </div>
              <div class="line">
               <code class="plain"> &lt;ProfileInfo&gt;</code>
              </div>
              <div class="line">
               <code class="plain"> &lt;UniqueID Type=</code><code class="string">"1"</code><code class="plain"> Instance=</code><code class="string">""</code><code class="plain"> ID=</code><code class="string">"200846006"</code><code class="plain"> ID_Context=</code><code class="string">"CRM"</code><code class="plain">/&gt;</code>
              </div>
              <div class="line">
               <code class="plain"> &lt;Profile ProfileType=</code><code class="string">"Customer"</code><code class="plain"> StatusCode=</code><code class="string">"4"</code><code class="plain">&gt;</code>
              </div>
              <div class="line">
               <code class="plain"> &lt;Customer Gender=</code><code class="string">"Female"</code><code class="plain"> BirthDate=</code><code class="string">"2000-03-23"</code><code class="plain"> Language=</code><code class="string">"en"</code><code class="plain">&gt;</code>
              </div>
              <div class="line">
               <code class="plain"> &lt;PersonName&gt;</code>
              </div>
              <div class="line">
               <code class="plain"> &lt;NamePrefix/&gt;</code>
              </div>
              <div class="line">
               <code class="plain"> &lt;GivenName&gt;Amanda&lt;/GivenName&gt;</code>
              </div>
              <div class="line">
               <code class="plain"> &lt;Surname&gt;Milam&lt;/Surname&gt;</code>
              </div>
              <div class="line">
               <code class="plain"> &lt;/PersonName&gt;</code>
              </div>
              <div class="line">
               <code class="plain"> &lt;Telephone PhoneTechType=</code><code class="string">"1"</code><code class="plain"> PhoneUseType=</code><code class="string">"1"</code><code class="plain"> PhoneNumber=</code><code class="string">"6155550323"</code><code class="plain"> FormattedInd=</code><code class="string">"false"</code><code class="plain"> DefaultInd=</code><code class="string">"True"</code><code class="plain">/&gt;</code>
              </div>
              <div class="line">
               <code class="plain"> &lt;Email ShareMarketInd=</code><code class="string">"No"</code><code class="plain"> DefaultInd=</code><code class="string">"true"</code><code class="plain">&gt;amilam</code><code class="color1">@shr</code><code class="plain">.global&lt;/Email&gt;</code>
              </div>
              <div class="line">
               <code class="plain"> &lt;Address FormattedInd=</code><code class="string">"false"</code><code class="plain">&gt;</code>
              </div>
              <div class="line">
               <code class="plain"> &lt;CityName/&gt;</code>
              </div>
              <div class="line">
               <code class="plain"> &lt;PostalCode/&gt;</code>
              </div>
              <div class="line">
               <code class="plain"> &lt;/Address&gt;</code>
              </div>
              <div class="line">
               <code class="plain"> &lt;Address FormattedInd=</code><code class="string">"false"</code><code class="plain"> DefaultInd=</code><code class="string">"true"</code><code class="plain">&gt;</code>
              </div>
              <div class="line">
               <code class="plain"> &lt;AddressLine&gt;</code><code class="value">100</code><code class="plain"> Treat St.&lt;/AddressLine&gt;</code>
              </div>
              <div class="line">
               <code class="plain"> &lt;CityName&gt;Nashville&lt;/CityName&gt;</code>
              </div>
              <div class="line">
               <code class="plain"> &lt;PostalCode&gt;</code><code class="value">37210</code><code class="plain">&lt;/PostalCode&gt;</code>
              </div>
              <div class="line">
               <code class="plain"> &lt;StateProv&gt;TN&lt;/StateProv&gt;</code>
              </div>
              <div class="line">
               <code class="plain"> &lt;/Address&gt;</code>
              </div>
              <div class="line">
               <code class="plain"> &lt;/Customer&gt;</code>
              </div>
              <div class="line">
               <code class="plain"> &lt;TPA_Extensions&gt;</code>
              </div>
              <div class="line">
               <code class="plain"> &lt;Success/&gt;</code>
              </div>
              <div class="line">
               <code class="plain"> &lt;/TPA_Extensions&gt;</code>
              </div>
              <div class="line">
               <code class="plain"> &lt;/Profile&gt;</code>
              </div>
              <div class="line">
               <code class="plain"> &lt;/ProfileInfo&gt;</code>
              </div>
              <div class="line">
               <code class="plain"> &lt;/Profiles&gt;</code>
              </div>
              <div class="line">
               <code class="plain"> &lt;Success/&gt;</code>
              </div>
              <div class="line">
               <code class="plain"> &lt;/OTA_ProfileReadRS&gt;</code>
              </div>
              <div class="line">
               <code class="plain"> &lt;/s:Body&gt;</code>
              </div>
              <div class="line">
               <code class="plain">&lt;/s:Envelope&gt;</code>
              </div>
             </div>
            </div>
            <ul>
             <li class="auto-cursor-target">Then an inbound OTA_ProfileCreateRQ will follow to receive and store the profile in protel.</li>
            </ul></td>
          </tr>
          <tr>
           <td class="confluenceTd highlight-grey" data-highlight-colour="grey"><p>5</p></td>
           <td colspan="1" rowspan="1" class="confluenceTd">
            <div class="content-wrapper">
             <p><span style="color: rgb(0,0,0);">Data Validation Report - DQE</span></p>
             <p><br clear="none"></p>
             <div class="expand-container">
              <div class="expand-content">
               <ul>
                <li><span>after checking if the bulk successfully finished, provide the integration partner the report</span></li>
                <li><span>The Integration partner will process the DQE and send you a report afterwards</span></li>
                <li><span>The report is to be found in the tab Add-Ons of the front office</span></li>
               </ul>
              </div>
             </div>
            </div></td>
           <td colspan="1" rowspan="1" class="confluenceTd">
            <div class="content-wrapper">
             <p><strong>No DQE Report is needed for further validation unless requested otherwise&nbsp;</strong></p>
             <p><br clear="none"><a rel="nofollow" href="https://confluence.protel.net/display/PIODOC/on+prem+%7C+DQE+CKit+Variations" shape="rect" class="external-link scroll-external-link" data-scroll-link-type="default" data-scroll-link-target="https://confluence.protel.net/display/PIODOC/on+prem+%7C+DQE+CKit+Variations" data-scroll-link-local="false">https://confluence.protel.net/display/PIODOC/on+prem+%7C+DQE+CKit+Variations</a></p>
             <p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img width="509" class="confluence-embedded-image confluence-content-image-border scroll-document-image" src="_scroll_external/remote/99c8d2a7d4b2/dqeonprem.png" height="250"></span></p>
            </div></td>
          </tr>
         </tbody>
        </table>
       </div>
       <div class="table-wrap">
        <table class="wrapped confluenceTable tableenhancer tableenhancer-rownums-onceBeforeSorting">
         <colgroup span="1">
          <col span="1">
          <col span="1">
         </colgroup>
         <thead>
          <tr>
           <th colspan="1" rowspan="1" class="confluenceTh"><p>&nbsp;</p></th>
           <th colspan="1" rowspan="1" class="confluenceTh"><h3 id="Allora(Maverick)CRMonpremInstallationguide-TwowayInstallation" data-scroll-heading-rank-offset="1" data-scroll-heading-rank="3" data-scroll-original-heading-rank="4" data-scroll-relative-heading-rank="3" class="scroll-original-h4 scroll-non-section-heading scroll-h3 scroll-relative-h3"><span style="color: rgb(51,51,51);"><em><strong>Two way Installation</strong></em></span></h3></th>
           <th colspan="1" rowspan="1" class="confluenceTh"><p>Examples</p></th>
          </tr>
         </thead>
         <tbody>
          <tr>
           <td class="confluenceTd highlight-grey" data-highlight-colour="grey"><p>1</p></td>
           <td colspan="1" rowspan="1" class="confluenceTd"><p>PWS Configuration</p>
            <ul>
             <li>enable LiveMode for required message types for 2-way connection<br clear="none"><br clear="none"></li>
            </ul>
            <div class="table-wrap">
             <table class="wrapped confluenceTable" data-mce-resize="false">
              <thead>
               <tr>
                <th colspan="1" rowspan="1" class="confluenceTh"><p>Message Type</p></th>
                <th colspan="1" rowspan="1" class="confluenceTh"><p>LiveMode</p></th>
               </tr>
              </thead>
              <tbody>
               <tr>
                <td colspan="1" rowspan="1" class="confluenceTd"><p><span style="color: rgb(0,0,0);">OTA_HotelResNotifRS&nbsp;</span></p></td>
                <td colspan="1" rowspan="1" style="text-align: center;" class="confluenceTd"><p><img alt="(tick)" data-emoticon-name="tick" class="emoticon emoticon-tick scroll-document-image" src="_scroll_external/icons/ea52f49b26f0/check.svg" data-emoji-short-name=":tick:"></p></td>
               </tr>
               <tr>
                <td colspan="1" rowspan="1" class="confluenceTd"><p><span style="color: rgb(0,0,0);">OTA_ProfileCreateRS</span></p></td>
                <td colspan="1" rowspan="1" style="text-align: center;" class="confluenceTd"><p><img alt="(tick)" data-emoticon-name="tick" class="emoticon emoticon-tick scroll-document-image" src="_scroll_external/icons/ea52f49b26f0/check.svg" data-emoji-short-name=":tick:"></p></td>
               </tr>
               <tr>
                <td colspan="1" rowspan="1" class="confluenceTd"><p><span style="color: rgb(0,0,0);">OTA_ProfileModifyRS</span></p></td>
                <td colspan="1" rowspan="1" style="text-align: center;" class="confluenceTd"><p><img alt="(tick)" data-emoticon-name="tick" class="emoticon emoticon-tick scroll-document-image" src="_scroll_external/icons/ea52f49b26f0/check.svg" data-emoji-short-name=":tick:"></p></td>
               </tr>
              </tbody>
             </table>
            </div></td>
           <td colspan="1" rowspan="1" class="confluenceTd">
            <div class="content-wrapper">
             <p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img width="800" class="confluence-embedded-image scroll-document-image" src="_scroll_external/attachments/f5bd9fcbd9c3/allora_pws_2way.png"></span></p>
            </div></td>
          </tr>
          <tr>
           <td class="confluenceTd highlight-grey" data-highlight-colour="grey"><p>2</p></td>
           <td colspan="1" rowspan="1" class="confluenceTd">
            <div class="content-wrapper">
             <p style="text-align: left;"><span style="color: rgb(0,51,102);">Test an incoming Profile Creation</span></p>
             <p style="text-align: left;"><span style="color: rgb(0,51,102);">(OTA_ProfileCreateRQ)</span></p>
             <p style="text-align: left;"><span style="color: rgb(0,51,102);">Allora CRM supports the creation of below profile type:</span></p>
             <ul style="text-align: left;">
              <li><p class="auto-cursor-target"><span style="color: rgb(0,51,102);"><span style="color: rgb(0,51,102);">Individual<br clear="none"></span></span></p>
               <div class="expand-container">
                <div class="expand-content">
                 <ul style="text-align: left;">
                  <li><span style="color: rgb(23,43,77);">ask the Integration partner to create one individual profile as example&nbsp; and provide the CorrelationID and profile number</span></li>
                  <li><span style="color: rgb(23,43,77);">Important: check the content of the profile and that the OTA_ProfileCreateRS does not contain any errors</span></li>
                 </ul>
                </div>
               </div></li>
             </ul>
            </div></td>
           <td colspan="1" rowspan="1" class="confluenceTd"><p><br clear="none"></p></td>
          </tr>
          <tr>
           <td class="confluenceTd highlight-grey" data-highlight-colour="grey"><p>3</p></td>
           <td colspan="1" rowspan="1" class="confluenceTd">
            <div class="content-wrapper">
             <p style="text-align: left;"><span style="color: rgb(0,51,102);">Test an incoming Profile Modification</span></p>
             <p style="text-align: left;"><span style="color: rgb(0,51,102);">(OTA_ProfileModifyRQ)</span></p>
             <p style="text-align: left;"><span style="color: rgb(0,51,102);">Allora CRM supports the midification of below profile type:</span></p>
             <ul style="text-align: left;">
              <li><span style="color: rgb(0,51,102);">Individual</span></li>
             </ul>
             <div class="expand-container">
              <div class="expand-content">
               <ul style="text-align: left;">
                <li>request the integration partner amend the profile created during the previous OTA_ProfileCreateRQ. They should modify items such as: guest name, address, telephone number, etc</li>
                <li>request integration partner provide the CorrelationID and check in kibana that this present</li>
                <li><span style="color: rgb(23,43,77);">check OTA_ProfileModifyRS contains no errors</span></li>
                <li><span style="color: rgb(23,43,77);">check amendments are appearing in the profile in protel</span></li>
               </ul>
              </div>
             </div>
            </div></td>
           <td colspan="1" rowspan="1" class="confluenceTd"><p><br clear="none"></p></td>
          </tr>
          <tr>
           <td class="confluenceTd highlight-grey" data-highlight-colour="grey"><p>4</p></td>
           <td colspan="1" rowspan="1" class="confluenceTd">
            <div class="content-wrapper">
             <p style="text-align: left;"><span style="color: rgb(0,51,102);">Test incoming Optin change</span></p>
             <p style="text-align: left;"><span style="color: rgb(0,51,102);">(OTA_ProfileModifyRQ)</span></p>
             <div class="confluence-information-macro confluence-information-macro-information">
              <span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span>
              <div class="confluence-information-macro-body">
               <p><span style="color: rgb(255,0,0);">Please be aware that protel IO supports only the optin values set in the "Advertisement" section of the profile "Contact opt-in"</span></p>
              </div>
             </div>
             <div class="expand-container">
              <div class="expand-content">
               <p><span style="color: rgb(23,43,77);"><strong>Testing if optin and mailingdefaults values are set to "NO"</strong></span></p>
               <ul>
                <li><span style="color: rgb(23,43,77);">Create an individual profile in protel and verify that the profile advertisement permissions are all set to "No" in line with default xsetups</span></li>
                <li><span style="color: rgb(23,43,77);">Provide Allora CRM with the CorrelationID and profile number </span></li>
                <li><span style="color: rgb(23,43,77);">ask the Integration partner to amend the ShareMarketind permissions for email, phone and address/letter from the defaults in the profile you created to "YES"</span></li>
                <li><span style="color: rgb(23,43,77);">ask the Integration partner to provide the&nbsp;CorrelationID for the OTA_ProfileModifyRQ and verify its presence in Kibana</span></li>
                <li><span style="color: rgb(23,43,77);">check that the corresponding OTA_ProfileModifyRS contains no errors</span></li>
                <li><span style="color: rgb(23,43,77);">check in the OTA_ProfileModifyRQ, ShareMarketInd = "YES" for the advertisement contact methods and ShareMarketAllOptInd = "NO"</span></li>
                <li><span style="color: rgb(23,43,77);">verify the Advertisement contact methods in the profile are displayed as "YES"</span></li>
               </ul>
               <p><strong><span style="color: rgb(23,43,77);">Testing if optin and mailingdefaults values are set to "YES"</span></strong></p>
               <ul>
                <li><span style="color: rgb(23,43,77);">Create an individual profile in protel and verify that the profile advertisement permissions are all set to "YES" in line with default xsetups</span></li>
                <li><span style="color: rgb(23,43,77);">Provide Allora CRM with the CorrelationID and profile number </span></li>
                <li><span style="color: rgb(23,43,77);">ask the Integration partner to amend the ShareMarketind permissions for email, phone and address/letter from the defaults in the profile you created to "NO"</span></li>
                <li><span style="color: rgb(23,43,77);">ask the Integration partner to provide the&nbsp;CorrelationID for the OTA_ProfileModifyRQ and verify its presence in Kibana</span></li>
                <li><span style="color: rgb(23,43,77);">check that the corresponding OTA_ProfileModifyRS contains no errors</span></li>
                <li><span style="color: rgb(23,43,77);">check in the OTA_ProfileModifyRQ, ShareMarketInd = "NO" for the advertisement contact methods and ShareMarketAllOptInd = "NO"</span></li>
                <li><span style="color: rgb(23,43,77);">verify the Advertisement contact methods in the profile are displayed as "NO"</span></li>
               </ul>
              </div>
             </div>
            </div></td>
           <td colspan="1" rowspan="1" class="confluenceTd">
            <div class="content-wrapper">
             <p><strong>Profile with Advertisement defaults of NO - pre-amendment</strong></p>
             <p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img width="274" class="confluence-embedded-image confluence-content-image-border scroll-document-image" src="_scroll_external/attachments/a7f3d0bce2b7/image2020-7-29_16-24-26.png" height="250"></span></p>
             <p><strong style="text-align: left;">XML Example of<span>&nbsp;</span></strong><span style="color: rgb(23,43,77);">ShareMarketInd</span><strong style="text-align: left;"><span>&nbsp;</span>and<span>&nbsp;</span></strong><span style="color: rgb(23,43,77);">ShareAllOptOutInd</span></p>
             <div class="scroll-code scroll-highlighted-code-block" data-language="xml" data-linenumbers="true" data-title-type="code" data-theme="defaultnew" style="  counter-reset: scroll-code-numbering 0;">
              <div class="defaultnew content">
               <div class="line">
                <code class="plain">&lt;</code><code class="keyword">ProfileModify</code><code class="plain"> </code><code class="color1">ShareAllOptOutInd</code><code class="plain">=</code><code class="string">"Yes"</code><code class="plain"> </code><code class="color1">ProfileType</code><code class="plain">=</code><code class="string">"1"</code><code class="plain"> </code><code class="color1">CreateDateTime</code><code class="plain">=</code><code class="string">"2020-04-17T09:40:00"</code><code class="plain"> </code><code class="color1">CreatorID</code><code class="plain">=</code><code class="string">"protel 4"</code><code class="plain"> </code><code class="color1">RPH</code><code class="plain">=</code><code class="string">"401249"</code><code class="plain"> </code><code class="color1">LastModifyDateTime</code><code class="plain">=</code><code class="string">"2020-04-17T14:15:39"</code><code class="plain"> </code><code class="color1">LastModifierID</code><code class="plain">=</code><code class="string">"protel 4"</code><code class="plain"> </code><code class="color1">StatusCode</code><code class="plain">=</code><code class="string">"4"</code><code class="plain">&gt;</code>
               </div>
               <div class="line">
                <code class="plain"> &lt;</code><code class="keyword">Customer</code><code class="plain"> </code><code class="color1">Gender</code><code class="plain">=</code><code class="string">"Unknown"</code><code class="plain"> </code><code class="color1">Language</code><code class="plain">=</code><code class="string">"de"</code><code class="plain">&gt;</code>
               </div>
               <div class="line">
                <code class="plain"> &lt;</code><code class="keyword">PersonName</code><code class="plain">&gt;</code>
               </div>
               <div class="line">
                <code class="plain"> &lt;</code><code class="keyword">GivenName</code><code class="plain">&gt;Inbound&lt;/</code><code class="keyword">GivenName</code><code class="plain">&gt;</code>
               </div>
               <div class="line">
                <code class="plain"> &lt;</code><code class="keyword">Surname</code><code class="plain">&gt;Test_Optin &lt;/</code><code class="keyword">Surname</code><code class="plain">&gt;</code>
               </div>
               <div class="line">
                <code class="plain"> &lt;/</code><code class="keyword">PersonName</code><code class="plain">&gt;</code>
               </div>
               <div class="line">
                <code class="plain"> &lt;</code><code class="keyword">Telephone</code><code class="plain"> </code><code class="color1">ShareMarketInd</code><code class="plain">=</code><code class="string">"No"</code><code class="plain"> </code><code class="color1">PhoneNumber</code><code class="plain">=</code><code class="string">"123456789"</code><code class="plain"> </code><code class="color1">PhoneLocationType</code><code class="plain">=</code><code class="string">"6"</code><code class="plain"> </code><code class="color1">PhoneTechType</code><code class="plain">=</code><code class="string">"1"</code><code class="plain"> </code><code class="color1">FormattedInd</code><code class="plain">=</code><code class="string">"false"</code><code class="plain"> </code><code class="color1">DefaultInd</code><code class="plain">=</code><code class="string">"true"</code><code class="plain">/&gt;</code>
               </div>
               <div class="line">
                <code class="plain"> &lt;</code><code class="keyword">Email</code><code class="plain"> </code><code class="color1">ShareMarketInd</code><code class="plain">=</code><code class="string">"No"</code><code class="plain"> </code><code class="color1">DefaultInd</code><code class="plain">=</code><code class="string">"true"</code><code class="plain"> </code><code class="color1">EmailType</code><code class="plain">=</code><code class="string">"1"</code><code class="plain">&gt;test@protel.com&lt;/</code><code class="keyword">Email</code><code class="plain">&gt;</code>
               </div>
               <div class="line">
                <code class="plain"> &lt;</code><code class="keyword">Address</code><code class="plain"> </code><code class="color1">FormattedInd</code><code class="plain">=</code><code class="string">"false"</code><code class="plain"> </code><code class="color1">ShareMarketInd</code><code class="plain">=</code><code class="string">"No"</code><code class="plain"> </code><code class="color1">Type</code><code class="plain">=</code><code class="string">"1"</code><code class="plain"> </code><code class="color1">DefaultInd</code><code class="plain">=</code><code class="string">"true"</code><code class="plain"> </code><code class="color1">UseType</code><code class="plain">=</code><code class="string">"6"</code><code class="plain">&gt;</code>
               </div>
               <div class="line">
                <code class="plain"> &lt;</code><code class="keyword">AddressLine</code><code class="plain">&gt;Test Street&lt;/</code><code class="keyword">AddressLine</code><code class="plain">&gt;</code>
               </div>
               <div class="line">
                <code class="plain"> &lt;</code><code class="keyword">AddressLine</code><code class="plain">&gt;Test Street 2&lt;/</code><code class="keyword">AddressLine</code><code class="plain">&gt;</code>
               </div>
               <div class="line">
                <code class="plain"> &lt;</code><code class="keyword">StateProv</code><code class="plain">/&gt;</code>
               </div>
               <div class="line">
                <code class="plain"> &lt;</code><code class="keyword">CountryName</code><code class="plain"> </code><code class="color1">Code</code><code class="plain">=</code><code class="string">"GB"</code><code class="plain">&gt;Großbritannien&lt;/</code><code class="keyword">CountryName</code><code class="plain">&gt;</code>
               </div>
               <div class="line">
                <code class="plain"> &lt;/</code><code class="keyword">Address</code><code class="plain">&gt;</code>
               </div>
               <div class="line">
                <code class="plain"> &lt;</code><code class="keyword">CitizenCountryName</code><code class="plain"> </code><code class="color1">DefaultInd</code><code class="plain">=</code><code class="string">"true"</code><code class="plain"> </code><code class="color1">Code</code><code class="plain">=</code><code class="string">"GB"</code><code class="plain">/&gt;</code>
               </div>
               <div class="line">
                <code class="plain"> &lt;</code><code class="keyword">Document</code><code class="plain"> </code><code class="color1">BirthDate</code><code class="plain">=</code><code class="string">"1900-01-01"</code><code class="plain"> </code><code class="color1">EffectiveDate</code><code class="plain">=</code><code class="string">"1900-01-01"</code><code class="plain"> </code><code class="color1">ExpireDate</code><code class="plain">=</code><code class="string">"2050-12-31"</code><code class="plain">/&gt;</code>
               </div>
               <div class="line">
                <code class="plain"> &lt;</code><code class="keyword">EmployerInfo</code><code class="plain"> </code><code class="color1">CompanyShortName</code><code class="plain">=</code><code class="string">""</code><code class="plain"> </code><code class="color1">Department</code><code class="plain">=</code><code class="string">""</code><code class="plain">/&gt;</code>
               </div>
               <div class="line">
                <code class="plain"> &lt;/</code><code class="keyword">Customer</code><code class="plain">&gt;</code>
               </div>
              </div>
             </div>
             <p class="auto-cursor-target"><span style="color: rgb(23,43,77);">Profile Advertisement after update from an integration partner</span></p>
             <p class="auto-cursor-target"><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img width="274" class="confluence-embedded-image confluence-content-image-border scroll-document-image" src="_scroll_external/attachments/a0040e456937/image2020-7-29_16-29-57.png" height="250"></span></p>
             <p class="auto-cursor-target"><strong style="text-align: left;">XML Example of<span>&nbsp;</span></strong><span style="color: rgb(23,43,77);">ShareMarketInd</span><strong style="text-align: left;"><span>&nbsp;</span>and<span>&nbsp;</span></strong><span style="color: rgb(23,43,77);">ShareAllOptOutInd after integration partner update</span></p>
             <div class="scroll-code scroll-highlighted-code-block" data-language="xml" data-linenumbers="true" data-title-type="code" data-theme="defaultnew" style="  counter-reset: scroll-code-numbering 0;">
              <div class="defaultnew content">
               <div class="line">
                <code class="plain">&lt;</code><code class="keyword">ProfileModify</code><code class="plain"> </code><code class="color1">ShareAllOptOutInd</code><code class="plain">=</code><code class="string">"No"</code><code class="plain"> </code><code class="color1">ProfileType</code><code class="plain">=</code><code class="string">"1"</code><code class="plain"> </code><code class="color1">CreateDateTime</code><code class="plain">=</code><code class="string">"2020-04-17T09:40:00"</code><code class="plain"> </code><code class="color1">CreatorID</code><code class="plain">=</code><code class="string">"protel 4"</code><code class="plain"> </code><code class="color1">RPH</code><code class="plain">=</code><code class="string">"401249"</code><code class="plain"> </code><code class="color1">LastModifyDateTime</code><code class="plain">=</code><code class="string">"2020-04-17T14:15:39"</code><code class="plain"> </code><code class="color1">LastModifierID</code><code class="plain">=</code><code class="string">"protel 4"</code><code class="plain"> </code><code class="color1">StatusCode</code><code class="plain">=</code><code class="string">"4"</code><code class="plain">&gt;</code>
               </div>
               <div class="line">
                <code class="plain"> &lt;</code><code class="keyword">Customer</code><code class="plain"> </code><code class="color1">Gender</code><code class="plain">=</code><code class="string">"Unknown"</code><code class="plain"> </code><code class="color1">Language</code><code class="plain">=</code><code class="string">"de"</code><code class="plain">&gt;</code>
               </div>
               <div class="line">
                <code class="plain"> &lt;</code><code class="keyword">PersonName</code><code class="plain">&gt;</code>
               </div>
               <div class="line">
                <code class="plain"> &lt;</code><code class="keyword">GivenName</code><code class="plain">&gt;Inbound&lt;/</code><code class="keyword">GivenName</code><code class="plain">&gt;</code>
               </div>
               <div class="line">
                <code class="plain"> &lt;</code><code class="keyword">Surname</code><code class="plain">&gt;Test_Optin &lt;/</code><code class="keyword">Surname</code><code class="plain">&gt;</code>
               </div>
               <div class="line">
                <code class="plain"> &lt;/</code><code class="keyword">PersonName</code><code class="plain">&gt;</code>
               </div>
               <div class="line">
                <code class="plain"> &lt;</code><code class="keyword">Telephone</code><code class="plain"> </code><code class="color1">ShareMarketInd</code><code class="plain">=</code><code class="string">"Yes"</code><code class="plain"> </code><code class="color1">PhoneNumber</code><code class="plain">=</code><code class="string">"123456789"</code><code class="plain"> </code><code class="color1">PhoneLocationType</code><code class="plain">=</code><code class="string">"6"</code><code class="plain"> </code><code class="color1">PhoneTechType</code><code class="plain">=</code><code class="string">"1"</code><code class="plain"> </code><code class="color1">FormattedInd</code><code class="plain">=</code><code class="string">"false"</code><code class="plain"> </code><code class="color1">DefaultInd</code><code class="plain">=</code><code class="string">"true"</code><code class="plain">/&gt;</code>
               </div>
               <div class="line">
                <code class="plain"> &lt;</code><code class="keyword">Email</code><code class="plain"> </code><code class="color1">ShareMarketInd</code><code class="plain">=</code><code class="string">"Yes"</code><code class="plain"> </code><code class="color1">DefaultInd</code><code class="plain">=</code><code class="string">"true"</code><code class="plain"> </code><code class="color1">EmailType</code><code class="plain">=</code><code class="string">"1"</code><code class="plain">&gt;test@protel.com&lt;/</code><code class="keyword">Email</code><code class="plain">&gt;</code>
               </div>
               <div class="line">
                <code class="plain"> &lt;</code><code class="keyword">Address</code><code class="plain"> </code><code class="color1">FormattedInd</code><code class="plain">=</code><code class="string">"false"</code><code class="plain"> </code><code class="color1">ShareMarketInd</code><code class="plain">=</code><code class="string">"Yes"</code><code class="plain"> </code><code class="color1">Type</code><code class="plain">=</code><code class="string">"1"</code><code class="plain"> </code><code class="color1">DefaultInd</code><code class="plain">=</code><code class="string">"true"</code><code class="plain"> </code><code class="color1">UseType</code><code class="plain">=</code><code class="string">"6"</code><code class="plain">&gt;</code>
               </div>
               <div class="line">
                <code class="plain"> &lt;</code><code class="keyword">AddressLine</code><code class="plain">&gt;Test Street&lt;/</code><code class="keyword">AddressLine</code><code class="plain">&gt;</code>
               </div>
               <div class="line">
                <code class="plain"> &lt;</code><code class="keyword">AddressLine</code><code class="plain">&gt;Test Street 2&lt;/</code><code class="keyword">AddressLine</code><code class="plain">&gt;</code>
               </div>
               <div class="line">
                <code class="plain"> &lt;</code><code class="keyword">StateProv</code><code class="plain">/&gt;</code>
               </div>
               <div class="line">
                <code class="plain"> &lt;</code><code class="keyword">CountryName</code><code class="plain"> </code><code class="color1">Code</code><code class="plain">=</code><code class="string">"GB"</code><code class="plain">&gt;Großbritannien&lt;/</code><code class="keyword">CountryName</code><code class="plain">&gt;</code>
               </div>
               <div class="line">
                <code class="plain"> &lt;/</code><code class="keyword">Address</code><code class="plain">&gt;</code>
               </div>
               <div class="line">
                <code class="plain"> &lt;</code><code class="keyword">CitizenCountryName</code><code class="plain"> </code><code class="color1">DefaultInd</code><code class="plain">=</code><code class="string">"true"</code><code class="plain"> </code><code class="color1">Code</code><code class="plain">=</code><code class="string">"GB"</code><code class="plain">/&gt;</code>
               </div>
               <div class="line">
                <code class="plain"> &lt;</code><code class="keyword">Document</code><code class="plain"> </code><code class="color1">BirthDate</code><code class="plain">=</code><code class="string">"1900-01-01"</code><code class="plain"> </code><code class="color1">EffectiveDate</code><code class="plain">=</code><code class="string">"1900-01-01"</code><code class="plain"> </code><code class="color1">ExpireDate</code><code class="plain">=</code><code class="string">"2050-12-31"</code><code class="plain">/&gt;</code>
               </div>
               <div class="line">
                <code class="plain"> &lt;</code><code class="keyword">EmployerInfo</code><code class="plain"> </code><code class="color1">CompanyShortName</code><code class="plain">=</code><code class="string">""</code><code class="plain"> </code><code class="color1">Department</code><code class="plain">=</code><code class="string">""</code><code class="plain">/&gt;</code>
               </div>
               <div class="line">
                <code class="plain"> &lt;/</code><code class="keyword">Customer</code><code class="plain">&gt;</code>
               </div>
              </div>
             </div>
            </div></td>
          </tr>
          <tr>
           <td class="confluenceTd highlight-grey" data-highlight-colour="grey"><p>5</p></td>
           <td colspan="1" rowspan="1" class="confluenceTd"><p style="text-align: left;">Update the developer portal with the information about the installed customer</p><p style="text-align: left;">To be found here:&nbsp;</p><p style="text-align: left;">Developer portal / Development / Services / Prospect Hotels / Add</p></td>
           <td colspan="1" rowspan="1" class="confluenceTd">
            <div class="content-wrapper">
             <p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img data-scroll-image-id="fe97af4b-5ef1-4937-91ab-539df7de6f2e" class="confluence-embedded-image scroll-document-image" src="_scroll_external/attachments/59c78a79b957/allora_smp_1.png" height="250"></span></p>
             <p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img data-scroll-image-id="da75b8af-33e1-4d63-a860-93361a9c81ff" class="confluence-embedded-image scroll-document-image" src="_scroll_external/attachments/7cb2a1118607/allora_smp_2.png" height="250"></span></p>
             <p><br clear="none"></p>
            </div><p><br clear="none"></p></td>
          </tr>
         </tbody>
        </table>
       </div>
      </div>
     </section>
    </article>
   </main>
   <nav class="exp-post-navigation-prev"><a href="Allora-CRM-(Maverick).192227716.html" class="post-navigation-link">
     <svg width="22px" height="22px" viewbox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg"><g id="ht-icon-prev">
       <path fill="currentColor" d="M16,8 L16,6 L6,6 L6,16 L8,16 L8,8 L16,8 Z" id="Rectangle-2" transform="translate(11.000000, 11.000000) rotate(-45.000000) translate(-11.000000, -11.000000) " /> 
      </g>
     </svg> <span>Allora CRM (Maverick)</span> </a>
   </nav>
   <nav class="exp-post-navigation-next"><a href="Amadeus-GMS-(Former-Travelclick).192227762.html" class="post-navigation-link"> <span>Amadeus GMS (Former Travelclick)</span>
     <svg width="22px" height="22px" viewbox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg"><g id="ht-icon-next">
       <path fill="currentColor" d="M16,8 L16,6 L6,6 L6,16 L8,16 L8,8 L16,8 Z" id="Rectangle-2" transform="translate(11.000000, 11.000000) rotate(-225.000000) translate(-11.000000, -11.000000) " /> 
      </g>
     </svg> </a>
   </nav>
   <nav class="exp-sidebar-toc js-tocBot"><!-- content generated by toc.js  -->
   </nav>
   <div class="exp-sidebar-navigation-toggle">
    <div class="exp-sidebar-navigation-toggle-icon-line"></div>
    <div class="exp-sidebar-navigation-toggle-icon-line"></div>
    <div class="exp-sidebar-navigation-toggle-icon-line"></div>
   </div>
   <div class="exp-scroll-to-top-container"><a href="#Allora(Maverick)CRM-onpremInstallationguide-top" class="exp-scroll-to-top-link">↑ Back to top</a>
   </div>
  </div> <dialog class="exp-lightbox-container" aria-modal="true">
   <div class="lightbox-toolbar"><button type="button" class="exp-lightbox-close">
     <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 -960 960 960" aria-hidden="true"><path fill="currentColor" d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z" />
     </svg> </button>
   </div>
   <div class="lightbox-content content">
   </div> 
  </dialog>
  <template id="exp-lightbox-wrapper-template">
   <div class="exp-lightbox-wrapper">
    <div class="exp-lightbox-toggle"><button type="button" class="exp-lightbox-close">
      <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 -960 960 960" aria-hidden="true"><path fill="currentColor" d="M120-120v-320h80v184l504-504H520v-80h320v320h-80v-184L256-200h184v80H120Z" />
      </svg> </button>
    </div>
   </div>
  </template>
  <script src="js/tocbot.min.js"></script>
  <script src="js/article-toc.js"></script>
  <script src="js/app.js"></script>
  <script src="js/mobile.js"></script>
  <script src="js/iframe-resizer.parent.js"></script>
 </body>
</html>