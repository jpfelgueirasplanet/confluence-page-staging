<!doctype html>

<html lang="en">

    <head>

        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">

        <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1">

        <link rel="icon" href="_scroll_external/logos/59f13d845123/default-space-logo.svg">

        <!-- Primary Meta Tags -->
        <meta name="exp-export-timestamp" content="2024-09-05T09:13:32.941+0000">
        <meta name="exp-page-id" content="192228591">
        <meta name="exp-page-title" content="OTA_HotelInvCountNotifRQ Delta message from PWS">
        <meta name="exp-page-version" content="21">
        <meta name="exp-page-scroll-page-id" content="">
        <meta name="exp-page-created" content="2021-05-26T22:59:55.330+0000">
        <meta name="exp-page-last-modified" content="2021-09-20T11:52:14.007+0000">
        <meta name="exp-page-labels" content="">
        <meta name="exp-page-context-keys" content="">
        <meta name="exp-space-key" content="PIODOC">
        <meta name="exp-space-title" content="protel.I/O documentation">

        <!-- Additional Meta Tags -->
        <meta name="exp-document-id" content="">
        <meta name="exp-document-title" content="protel.I/O documentation">
        <meta name="exp-version-status" content="">
        <meta name="exp-version-id" content="">
        <meta name="exp-version-name" content="">
        <meta name="exp-version-description" content="">
        <meta name="exp-version-date" content="">
        <meta name="exp-variant-id" content="">
        <meta name="exp-variant-name" content="">
        <meta name="exp-variant-description" content="">
        <meta name="exp-language-code" content="">
        <meta name="exp-language-name" content="">

        <link rel="stylesheet" href="css/app.css">
        <link rel="stylesheet" href="css/image-dimensions.css">


            
            
<script src="js/search.js"></script>
            <script id="search-worker" type="javascript/worker">
    onmessage = function(event) {
        // dispatch events to handling functions
        var message = event.data;

        if ((message.type === 'setup') && message.baseUrl) {
            setup(message.baseUrl);
        }

        if (message.type === 'search-request') {
            search(message.query);
        }
    }

    var searchIndex;

    function setup(baseUrl) {
        importScripts(
            baseUrl + 'js/lunr.js',
            baseUrl + 'js/lunr-index.js',
            baseUrl + 'js/lunr-data.js'
        );
        try {
            // load lunr-extras if it exists, which contains language-specific files for languages other than english
            importScripts(baseUrl + 'js/lunr-extras.js');
        } catch (e) {}
        searchIndex = lunr.Index.load(lunrIndex);
    }

    function search(query) {
        var searchHits = searchIndex.search(query);
        var results = searchHits.map(function (result) {
            return lunrData.filter(function (d) {
                return d.id === result.ref;
            })[0]
        });
        postMessage({ type: 'search-results', results: results, query: query });
    }
</script>
        <title>OTA_HotelInvCountNotifRQ Delta message from PWS</title>

    <meta name="generator" content="Scroll HTML Exporter / K15t GmbH"></head>

    <body id="OTA_HotelInvCountNotifRQDeltamessagefromPWS-top" data-pageid="192228591" data-confluence-editor-version="v1" data-confluence-deployment-type="DATACENTER">

        <div class="exp-grid-container">

            <header class="exp-header"></header>

            <div class="exp-logo">
                <a href="protel.I_O-documentation.192227604.html">
                    <span class="exp-logo-image" style="background-image: url(_scroll_external/logos/59f13d845123/default-space-logo.svg)" alt="protel.I/O documentation" title="protel.I/O documentation"></span>
                </a>
            </div>

            <div class="exp-document-title">
                <h1 class="exp-document-title-heading scroll-original-h2 scroll-custom-section-heading scroll-document-section-heading scroll-h1 scroll-relative-h1" data-scroll-heading-rank="1" data-scroll-original-heading-rank="2" data-scroll-relative-heading-rank="1" id="no-src_generated-id-9f8e649d76082b393777b23c8f28d666357085a705e72b7f2179e8f27522e5ab">
                    <a href="protel.I_O-documentation.192227604.html">
                        protel.I/O documentation
                    </a>
                </h1>
            </div>

<div class="exp-search-container">
    <input type="search" id="search-textbox" autocomplete="off" class="exp-search-input" style="margin-right: 0;">
    <div class="exp-search-input-icon">
        <svg data-exp-id="magnifier-icon" data-exp-component="icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewbox="0 0 20 20" fill="none" aria-hidden="true">
            <path d="M8.99452 14.5C10.5121 14.5 11.809 13.9669 12.8854 12.9007C13.9618 11.8345 14.5 10.5361 14.5 9.00548C14.5 7.48794 13.9631 6.19097 12.8893 5.11458C11.8155 4.03819 10.519 3.5 9 3.5C7.46786 3.5 6.16816 4.0369 5.1009 5.11071C4.03363 6.18453 3.5 7.48096 3.5 9C3.5 10.5321 4.0331 11.8318 5.09929 12.8991C6.1655 13.9664 7.46391 14.5 8.99452 14.5ZM9 16C8.02913 16 7.11974 15.816 6.27185 15.4479C5.42395 15.0799 4.68056 14.5799 4.04167 13.9479C3.40278 13.316 2.90278 12.576 2.54167 11.728C2.18056 10.88 2 9.97053 2 8.99956C2 8.04152 2.18403 7.13542 2.55208 6.28125C2.92014 5.42708 3.41864 4.68387 4.04758 4.0516C4.67653 3.41935 5.41569 2.91935 6.26508 2.5516C7.11449 2.18387 8.02548 2 8.99806 2C9.95769 2 10.8646 2.18403 11.7188 2.55208C12.5729 2.92014 13.316 3.42014 13.9479 4.05208C14.5799 4.68403 15.0799 5.42612 15.4479 6.27835C15.816 7.13058 16 8.0381 16 9.00094C16 9.83365 15.8615 10.6213 15.5846 11.3638C15.3078 12.1062 14.9254 12.7836 14.4375 13.3958L18 16.9583L16.9375 18L13.375 14.4583C12.7668 14.9459 12.0939 15.3247 11.3564 15.5948C10.6188 15.8649 9.83333 16 9 16Z" fill="currentColor" />
        </svg>
    </div>
    <div id="search-suggestion-container" class="exp-search-suggestion-panel" data-exp-component="search-suggestion"></div>
    <template id="exp-search-suggestion-option-template">
        <div class="exp-search-suggestion-option-container search-form-suggestion">
            <a class="exp-search-suggestion-option search-form-suggestion" href=""></a>
        </div>
    </template>
</div>


            <nav class="exp-sidebar-navigation">
                <div class="exp-sidebar-navigation-sticky-wrapper">
                    <iframe src="toc.html?pageId=192228591" border="0"></iframe>
                </div>

            </nav>


            <nav aria-label="Breadcrumb" class="exp-breadcrumbs-wrapper">
                <ol class="breadcrumbs">
                        <li class="breadcrumb">
                            <a href="protel.I_O-documentation.192227604.html" rel="prev" target="_self">protel.I/O documentation</a>
                        </li>
                        <li class="breadcrumb">
                            <a href="Message-Documentation.192227615.html" rel="prev" target="_self">Message Documentation</a>
                        </li>
                        <li class="breadcrumb">
                            <a href="Message-dictionary---DRAFT.192227668.html" rel="prev" target="_self">Message dictionary - DRAFT</a>
                        </li>
                        <li class="breadcrumb">
                            <a href="Old.192227947.html" rel="prev" target="_self">Old</a>
                        </li>
                        <li class="breadcrumb">
                            <a href="OTA_HotelInvCountNotifRQ_RS-_-Old.192228244.html" rel="prev" target="_self">OTA_HotelInvCountNotifRQ/RS _ Old</a>
                        </li>
                    <li class="breadcrumb active" aria-current="page">
                        OTA_HotelInvCountNotifRQ Delta message from PWS
                    </li>
                </ol>
            </nav>


            <main class="exp-content">
                <article role="article">

                    <header>
                        <h1 class="article-heading scroll-h1 scroll-original-h1 scroll-relative-h1 scroll-custom-section-heading scroll-document-section-heading" role="heading" data-scroll-heading-rank="1" data-scroll-original-heading-rank="1" data-scroll-relative-heading-rank="1" id="no-src_generated-id-49e164cab50c0410a1783b4207b11c7a0fc3acadb9e2cd4652a3b44db4e15c55">
                            OTA_HotelInvCountNotifRQ Delta message from PWS
                        </h1>
                    </header>

                    <section class="page" id="content" role="main">
                        <div id="main-content" class="wiki-content article-content js-tocBot-content">
                            <div style="display: none;"><br clear="none"></div><div style="display: none;"><br clear="none"></div><div style="display: none;"><br clear="none"></div><div style="display: none;"><br clear="none"></div><div style="display: none;"><br clear="none"></div><div style="display: none;"><br clear="none"></div><div style="display: none;"><br clear="none"></div><div style="display: none;"><br clear="none"></div><div style="display: none;"><br clear="none"></div><div style="display: none;"><br clear="none"></div><div style="display: none;"><br clear="none"></div><div style="display: none;"><br clear="none"></div><div style="display: none;"><br clear="none"></div><div style="display: none;"><br clear="none"></div><div style="display: none;"><br clear="none"></div><div style="display: none;"><br clear="none"></div><div style="display: none;"><br clear="none"></div><div style="display: none;"><br clear="none"></div><div style="display: none;"><br clear="none"></div><div style="display: none;"><br clear="none"></div><div style="display: none;"><br clear="none"></div><p><style type="text/css">/*<![CDATA[*/
div.rbtoc1725527612983 {padding: 0px;}
div.rbtoc1725527612983 ul {margin-left: 0px;}
div.rbtoc1725527612983 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style></p><div class="toc-macro rbtoc1725527612983">
<ul class="toc-indentation">
<li><a data-scroll-target-source-id="192228591" data-scroll-link-target-source-id="192228591" data-scroll-link-type="document" href="OTA_HotelInvCountNotifRQ-Delta-message-from-PWS.192228591.html#OTA_HotelInvCountNotifRQDeltamessagefromPWS-Generalbehavior:" class=" scroll-document-link" data-scroll-link-target="https://confluence.weareplanet.com/display/PIODOC/OTA_HotelInvCountNotifRQ+Delta+message+from+PWS#src-192228591_OTA_HotelInvCountNotifRQDeltamessagefromPWS-Generalbehavior:">General behavior:</a>
<ul class="toc-indentation">
<li><a data-scroll-target-source-id="192228591" data-scroll-link-target-source-id="192228591" data-scroll-link-type="document" href="OTA_HotelInvCountNotifRQ-Delta-message-from-PWS.192228591.html#OTA_HotelInvCountNotifRQDeltamessagefromPWS-PWSInvCounttrigger" class=" scroll-document-link" data-scroll-link-target="https://confluence.weareplanet.com/display/PIODOC/OTA_HotelInvCountNotifRQ+Delta+message+from+PWS#src-192228591_OTA_HotelInvCountNotifRQDeltamessagefromPWS-PWSInvCounttrigger">PWS InvCount trigger</a></li>
<li><a data-scroll-target-source-id="192228591" data-scroll-link-target-source-id="192228591" data-scroll-link-type="document" href="OTA_HotelInvCountNotifRQ-Delta-message-from-PWS.192228591.html#OTA_HotelInvCountNotifRQDeltamessagefromPWS-RoomTypedetailsandfiltering" class=" scroll-document-link" data-scroll-link-target="https://confluence.weareplanet.com/display/PIODOC/OTA_HotelInvCountNotifRQ+Delta+message+from+PWS#src-192228591_OTA_HotelInvCountNotifRQDeltamessagefromPWS-RoomTypedetailsandfiltering">Room Type details and filtering</a></li>
<li><a data-scroll-target-source-id="192228591" data-scroll-link-target-source-id="192228591" data-scroll-link-type="document" href="OTA_HotelInvCountNotifRQ-Delta-message-from-PWS.192228591.html#OTA_HotelInvCountNotifRQDeltamessagefromPWS-X-setupforthrottlingthedeltatrigger" class=" scroll-document-link" data-scroll-link-target="https://confluence.weareplanet.com/display/PIODOC/OTA_HotelInvCountNotifRQ+Delta+message+from+PWS#src-192228591_OTA_HotelInvCountNotifRQDeltamessagefromPWS-X-setupforthrottlingthedeltatrigger">X-setup for throttling the delta trigger</a></li>
<li><a data-scroll-target-source-id="192228591" data-scroll-link-target-source-id="192228591" data-scroll-link-type="document" href="OTA_HotelInvCountNotifRQ-Delta-message-from-PWS.192228591.html#OTA_HotelInvCountNotifRQDeltamessagefromPWS-Layout" class=" scroll-document-link" data-scroll-link-target="https://confluence.weareplanet.com/display/PIODOC/OTA_HotelInvCountNotifRQ+Delta+message+from+PWS#src-192228591_OTA_HotelInvCountNotifRQDeltamessagefromPWS-Layout">Layout</a></li>
<li><a data-scroll-target-source-id="192228591" data-scroll-link-target-source-id="192228591" data-scroll-link-type="document" href="OTA_HotelInvCountNotifRQ-Delta-message-from-PWS.192228591.html#OTA_HotelInvCountNotifRQDeltamessagefromPWS-ComparisonbetweenPWSandIDSInvCountmessagetypes:" class=" scroll-document-link" data-scroll-link-target="https://confluence.weareplanet.com/display/PIODOC/OTA_HotelInvCountNotifRQ+Delta+message+from+PWS#src-192228591_OTA_HotelInvCountNotifRQDeltamessagefromPWS-ComparisonbetweenPWSandIDSInvCountmessagetypes:">Comparison between PWS and IDS InvCount message types:</a></li>
</ul>
</li>
<li><a data-scroll-target-source-id="192228591" data-scroll-link-target-source-id="192228591" data-scroll-link-type="document" href="OTA_HotelInvCountNotifRQ-Delta-message-from-PWS.192228591.html#OTA_HotelInvCountNotifRQDeltamessagefromPWS-PWSInvCountmessagebehaviorperactionsinthePMS:" class=" scroll-document-link" data-scroll-link-target="https://confluence.weareplanet.com/display/PIODOC/OTA_HotelInvCountNotifRQ+Delta+message+from+PWS#src-192228591_OTA_HotelInvCountNotifRQDeltamessagefromPWS-PWSInvCountmessagebehaviorperactionsinthePMS:">PWS InvCount message behavior per actions in the PMS:</a>
<ul class="toc-indentation">
<li><a data-scroll-target-source-id="192228591" data-scroll-link-target-source-id="192228591" data-scroll-link-type="document" href="OTA_HotelInvCountNotifRQ-Delta-message-from-PWS.192228591.html#OTA_HotelInvCountNotifRQDeltamessagefromPWS-Action:>createNewbookingwithdefinitedeductingstatusforXrooms>createNewblockingallotmentforXrooms>scheduleaRoomMoveforXrooms" class=" scroll-document-link" data-scroll-link-target="https://confluence.weareplanet.com/display/PIODOC/OTA_HotelInvCountNotifRQ+Delta+message+from+PWS#src-192228591_OTA_HotelInvCountNotifRQDeltamessagefromPWS-Action:>createNewbookingwithdefinitedeductingstatusforXrooms>createNewblockingallotmentforXrooms>scheduleaRoomMoveforXrooms">Action: &gt; create New booking with definite deducting status for X rooms &gt; create New blocking allotment for X rooms &gt; schedule a Room Move for X rooms</a></li>
<li><a data-scroll-target-source-id="192228591" data-scroll-link-target-source-id="192228591" data-scroll-link-type="document" href="OTA_HotelInvCountNotifRQ-Delta-message-from-PWS.192228591.html#OTA_HotelInvCountNotifRQDeltamessagefromPWS-Action:createNewbookingwithoptionalnon-deductingstatusforXrooms(OOA/Waitlisting)" class=" scroll-document-link" data-scroll-link-target="https://confluence.weareplanet.com/display/PIODOC/OTA_HotelInvCountNotifRQ+Delta+message+from+PWS#src-192228591_OTA_HotelInvCountNotifRQDeltamessagefromPWS-Action:createNewbookingwithoptionalnon-deductingstatusforXrooms(OOA/Waitlisting)">Action: create New booking with optional non-deducting status for X rooms (OOA/Waitlisting)</a></li>
<li><a data-scroll-target-source-id="192228591" data-scroll-link-target-source-id="192228591" data-scroll-link-type="document" href="OTA_HotelInvCountNotifRQ-Delta-message-from-PWS.192228591.html#OTA_HotelInvCountNotifRQDeltamessagefromPWS-Action:createNewbookingwithtentativedeductingstatusforXrooms(OMA)" class=" scroll-document-link" data-scroll-link-target="https://confluence.weareplanet.com/display/PIODOC/OTA_HotelInvCountNotifRQ+Delta+message+from+PWS#src-192228591_OTA_HotelInvCountNotifRQDeltamessagefromPWS-Action:createNewbookingwithtentativedeductingstatusforXrooms(OMA)">Action: create New booking with tentative deducting status for X rooms (OMA)</a></li>
<li><a data-scroll-target-source-id="192228591" data-scroll-link-target-source-id="192228591" data-scroll-link-type="document" href="OTA_HotelInvCountNotifRQ-Delta-message-from-PWS.192228591.html#OTA_HotelInvCountNotifRQDeltamessagefromPWS-Action:BlockXrooms(statusOutofOrder)" class=" scroll-document-link" data-scroll-link-target="https://confluence.weareplanet.com/display/PIODOC/OTA_HotelInvCountNotifRQ+Delta+message+from+PWS#src-192228591_OTA_HotelInvCountNotifRQDeltamessagefromPWS-Action:BlockXrooms(statusOutofOrder)">Action: Block X rooms (status Out of Order)</a></li>
<li><a data-scroll-target-source-id="192228591" data-scroll-link-target-source-id="192228591" data-scroll-link-type="document" href="OTA_HotelInvCountNotifRQ-Delta-message-from-PWS.192228591.html#OTA_HotelInvCountNotifRQDeltamessagefromPWS-Action:Movereservationinfuture(past)e.g.from05-07thofJanto09-10thofJan." class=" scroll-document-link" data-scroll-link-target="https://confluence.weareplanet.com/display/PIODOC/OTA_HotelInvCountNotifRQ+Delta+message+from+PWS#src-192228591_OTA_HotelInvCountNotifRQDeltamessagefromPWS-Action:Movereservationinfuture(past)e.g.from05-07thofJanto09-10thofJan.">Action: Move reservation in future (past) e.g. from 05-07th of Jan to 09-10th of Jan.</a></li>
<li><a data-scroll-target-source-id="192228591" data-scroll-link-target-source-id="192228591" data-scroll-link-type="document" href="OTA_HotelInvCountNotifRQ-Delta-message-from-PWS.192228591.html#OTA_HotelInvCountNotifRQDeltamessagefromPWS-Action:CancelareservationforXrooms(definitedeductingbookings)Note!CancelandNoShowstatusresultinthesamecount" class=" scroll-document-link" data-scroll-link-target="https://confluence.weareplanet.com/display/PIODOC/OTA_HotelInvCountNotifRQ+Delta+message+from+PWS#src-192228591_OTA_HotelInvCountNotifRQDeltamessagefromPWS-Action:CancelareservationforXrooms(definitedeductingbookings)Note!CancelandNoShowstatusresultinthesamecount">Action: Cancel a reservation for X rooms (definite deducting bookings) Note! Cancel and NoShow status result in the same count</a></li>
<li><a data-scroll-target-source-id="192228591" data-scroll-link-target-source-id="192228591" data-scroll-link-type="document" href="OTA_HotelInvCountNotifRQ-Delta-message-from-PWS.192228591.html#OTA_HotelInvCountNotifRQDeltamessagefromPWS-Action:CancelareservationforXrooms(tentativedeductingbookings)Note!CancelandNoShowstatusresultinthesamecount" class=" scroll-document-link" data-scroll-link-target="https://confluence.weareplanet.com/display/PIODOC/OTA_HotelInvCountNotifRQ+Delta+message+from+PWS#src-192228591_OTA_HotelInvCountNotifRQDeltamessagefromPWS-Action:CancelareservationforXrooms(tentativedeductingbookings)Note!CancelandNoShowstatusresultinthesamecount">Action: Cancel a reservation for X rooms (tentative deducting bookings) Note! Cancel and NoShow status result in the same count</a></li>
<li><a data-scroll-target-source-id="192228591" data-scroll-link-target-source-id="192228591" data-scroll-link-type="document" href="OTA_HotelInvCountNotifRQ-Delta-message-from-PWS.192228591.html#OTA_HotelInvCountNotifRQDeltamessagefromPWS-Action:SchedulefutureoverbookingcountonRoomTypeor/andHotellevel(notyetsupportedwithPWSoutbound)-tobeimplementedwithJira-protelhotelsoftwareGmbH38aea4da-5b7f-3b65-8e9a-bdbadfe91209PWS-2747" class=" scroll-document-link" data-scroll-link-target="https://confluence.weareplanet.com/display/PIODOC/OTA_HotelInvCountNotifRQ+Delta+message+from+PWS#src-192228591_OTA_HotelInvCountNotifRQDeltamessagefromPWS-Action:SchedulefutureoverbookingcountonRoomTypeor/andHotellevel(notyetsupportedwithPWSoutbound)-tobeimplementedwithJira-protelhotelsoftwareGmbH38aea4da-5b7f-3b65-8e9a-bdbadfe91209PWS-2747">Action: Schedule future overbooking count on Room Type or/and Hotel level (not yet supported with PWS outbound) - to be implemented with Unable to locate Jira server for this macro. It may be due to Application Link configuration.</a></li>
<li><a data-scroll-target-source-id="192228591" data-scroll-link-target-source-id="192228591" data-scroll-link-type="document" href="OTA_HotelInvCountNotifRQ-Delta-message-from-PWS.192228591.html#OTA_HotelInvCountNotifRQDeltamessagefromPWS-Action:OverbookaRoomTypewithXrooms(definitedeductingbookings)" class=" scroll-document-link" data-scroll-link-target="https://confluence.weareplanet.com/display/PIODOC/OTA_HotelInvCountNotifRQ+Delta+message+from+PWS#src-192228591_OTA_HotelInvCountNotifRQDeltamessagefromPWS-Action:OverbookaRoomTypewithXrooms(definitedeductingbookings)">Action: Overbook a Room Type with X rooms (definite deducting bookings)</a></li>
<li><a data-scroll-target-source-id="192228591" data-scroll-link-target-source-id="192228591" data-scroll-link-type="document" href="OTA_HotelInvCountNotifRQ-Delta-message-from-PWS.192228591.html#OTA_HotelInvCountNotifRQDeltamessagefromPWS-Action:OverbookaRoomTypewithXrooms(definitedeductingbookings).1" class=" scroll-document-link" data-scroll-link-target="https://confluence.weareplanet.com/display/PIODOC/OTA_HotelInvCountNotifRQ+Delta+message+from+PWS#src-192228591_OTA_HotelInvCountNotifRQDeltamessagefromPWS-Action:OverbookaRoomTypewithXrooms(definitedeductingbookings).1">Action: Overbook a Room Type with X rooms (definite deducting bookings)</a></li>
<li><a data-scroll-target-source-id="192228591" data-scroll-link-target-source-id="192228591" data-scroll-link-type="document" href="OTA_HotelInvCountNotifRQ-Delta-message-from-PWS.192228591.html#OTA_HotelInvCountNotifRQDeltamessagefromPWS-Action:EODrun" class=" scroll-document-link" data-scroll-link-target="https://confluence.weareplanet.com/display/PIODOC/OTA_HotelInvCountNotifRQ+Delta+message+from+PWS#src-192228591_OTA_HotelInvCountNotifRQDeltamessagefromPWS-Action:EODrun">Action: EOD run</a></li>
<li><a data-scroll-target-source-id="192228591" data-scroll-link-target-source-id="192228591" data-scroll-link-type="document" href="OTA_HotelInvCountNotifRQ-Delta-message-from-PWS.192228591.html#OTA_HotelInvCountNotifRQDeltamessagefromPWS-Action:RunmanualURLtrigger" class=" scroll-document-link" data-scroll-link-target="https://confluence.weareplanet.com/display/PIODOC/OTA_HotelInvCountNotifRQ+Delta+message+from+PWS#src-192228591_OTA_HotelInvCountNotifRQDeltamessagefromPWS-Action:RunmanualURLtrigger">Action: Run manual URL trigger</a></li>
<li><a data-scroll-target-source-id="192228591" data-scroll-link-target-source-id="192228591" data-scroll-link-type="document" href="OTA_HotelInvCountNotifRQ-Delta-message-from-PWS.192228591.html#OTA_HotelInvCountNotifRQDeltamessagefromPWS-Action:BulkuploadforInventory" class=" scroll-document-link" data-scroll-link-target="https://confluence.weareplanet.com/display/PIODOC/OTA_HotelInvCountNotifRQ+Delta+message+from+PWS#src-192228591_OTA_HotelInvCountNotifRQDeltamessagefromPWS-Action:BulkuploadforInventory">Action: Bulk upload for Inventory</a></li>
<li><a data-scroll-target-source-id="192228591" data-scroll-link-target-source-id="192228591" data-scroll-link-type="document" href="OTA_HotelInvCountNotifRQ-Delta-message-from-PWS.192228591.html#OTA_HotelInvCountNotifRQDeltamessagefromPWS-Action:ThefollowingactionsdonottriggeranAPIout" class=" scroll-document-link" data-scroll-link-target="https://confluence.weareplanet.com/display/PIODOC/OTA_HotelInvCountNotifRQ+Delta+message+from+PWS#src-192228591_OTA_HotelInvCountNotifRQDeltamessagefromPWS-Action:ThefollowingactionsdonottriggeranAPIout">Action: The following actions do not trigger an API out</a></li>
</ul>
</li>
<li><a data-scroll-target-source-id="192228591" data-scroll-link-target-source-id="192228591" data-scroll-link-type="document" href="OTA_HotelInvCountNotifRQ-Delta-message-from-PWS.192228591.html#OTA_HotelInvCountNotifRQDeltamessagefromPWS-PWS_livejobentries" class=" scroll-document-link" data-scroll-link-target="https://confluence.weareplanet.com/display/PIODOC/OTA_HotelInvCountNotifRQ+Delta+message+from+PWS#src-192228591_OTA_HotelInvCountNotifRQDeltamessagefromPWS-PWS_livejobentries">PWS_livejob entries</a>
<ul class="toc-indentation">
<li><a data-scroll-target-source-id="192228591" data-scroll-link-target-source-id="192228591" data-scroll-link-type="document" href="OTA_HotelInvCountNotifRQ-Delta-message-from-PWS.192228591.html#OTA_HotelInvCountNotifRQDeltamessagefromPWS-Originator" class=" scroll-document-link" data-scroll-link-target="https://confluence.weareplanet.com/display/PIODOC/OTA_HotelInvCountNotifRQ+Delta+message+from+PWS#src-192228591_OTA_HotelInvCountNotifRQDeltamessagefromPWS-Originator">Originator</a></li>
<li><a data-scroll-target-source-id="192228591" data-scroll-link-target-source-id="192228591" data-scroll-link-type="document" href="OTA_HotelInvCountNotifRQ-Delta-message-from-PWS.192228591.html#OTA_HotelInvCountNotifRQDeltamessagefromPWS-Eventvalue" class=" scroll-document-link" data-scroll-link-target="https://confluence.weareplanet.com/display/PIODOC/OTA_HotelInvCountNotifRQ+Delta+message+from+PWS#src-192228591_OTA_HotelInvCountNotifRQDeltamessagefromPWS-Eventvalue">Eventvalue</a></li>
<li><a data-scroll-target-source-id="192228591" data-scroll-link-target-source-id="192228591" data-scroll-link-type="document" href="OTA_HotelInvCountNotifRQ-Delta-message-from-PWS.192228591.html#OTA_HotelInvCountNotifRQDeltamessagefromPWS-Lasterror" class=" scroll-document-link" data-scroll-link-target="https://confluence.weareplanet.com/display/PIODOC/OTA_HotelInvCountNotifRQ+Delta+message+from+PWS#src-192228591_OTA_HotelInvCountNotifRQDeltamessagefromPWS-Lasterror">Lasterror</a></li>
</ul>
</li>
<li><a data-scroll-target-source-id="192228591" data-scroll-link-target-source-id="192228591" data-scroll-link-type="document" href="OTA_HotelInvCountNotifRQ-Delta-message-from-PWS.192228591.html#OTA_HotelInvCountNotifRQDeltamessagefromPWS-Summary" class=" scroll-document-link" data-scroll-link-target="https://confluence.weareplanet.com/display/PIODOC/OTA_HotelInvCountNotifRQ+Delta+message+from+PWS#src-192228591_OTA_HotelInvCountNotifRQDeltamessagefromPWS-Summary">Summary</a>
<ul class="toc-indentation">
<li><a data-scroll-target-source-id="192228591" data-scroll-link-target-source-id="192228591" data-scroll-link-type="document" href="OTA_HotelInvCountNotifRQ-Delta-message-from-PWS.192228591.html#OTA_HotelInvCountNotifRQDeltamessagefromPWS-DBtables" class=" scroll-document-link" data-scroll-link-target="https://confluence.weareplanet.com/display/PIODOC/OTA_HotelInvCountNotifRQ+Delta+message+from+PWS#src-192228591_OTA_HotelInvCountNotifRQDeltamessagefromPWS-DBtables">DB tables</a></li>
<li><a data-scroll-target-source-id="192228591" data-scroll-link-target-source-id="192228591" data-scroll-link-type="document" href="OTA_HotelInvCountNotifRQ-Delta-message-from-PWS.192228591.html#OTA_HotelInvCountNotifRQDeltamessagefromPWS-xsetups:" class=" scroll-document-link" data-scroll-link-target="https://confluence.weareplanet.com/display/PIODOC/OTA_HotelInvCountNotifRQ+Delta+message+from+PWS#src-192228591_OTA_HotelInvCountNotifRQDeltamessagefromPWS-xsetups:">xsetups:</a></li>
<li><a data-scroll-target-source-id="192228591" data-scroll-link-target-source-id="192228591" data-scroll-link-type="document" href="OTA_HotelInvCountNotifRQ-Delta-message-from-PWS.192228591.html#OTA_HotelInvCountNotifRQDeltamessagefromPWS-Triggers:" class=" scroll-document-link" data-scroll-link-target="https://confluence.weareplanet.com/display/PIODOC/OTA_HotelInvCountNotifRQ+Delta+message+from+PWS#src-192228591_OTA_HotelInvCountNotifRQDeltamessagefromPWS-Triggers:">Triggers:</a></li>
</ul>
</li>
</ul>
</div><p></p><p><br clear="none"></p><h2 id="OTA_HotelInvCountNotifRQDeltamessagefromPWS-Generalbehavior:" data-scroll-heading-rank-offset="1" data-scroll-heading-rank="2" data-scroll-original-heading-rank="2" data-scroll-relative-heading-rank="2" class="scroll-original-h2 scroll-custom-section-heading scroll-document-section-heading scroll-h2 scroll-relative-h2">General behavior:&nbsp;</h2><h3 style="margin-left: 30.0px;" id="OTA_HotelInvCountNotifRQDeltamessagefromPWS-PWSInvCounttrigger" data-scroll-heading-rank-offset="1" data-scroll-heading-rank="3" data-scroll-original-heading-rank="3" data-scroll-relative-heading-rank="3" class="scroll-original-h3 scroll-custom-section-heading scroll-document-section-heading scroll-h3 scroll-relative-h3">PWS InvCount trigger</h3><p style="margin-left: 30.0px;">There are the following general cases in which the OTA_HotelInvCountNotifRQ message will be triggered:</p><ul style="list-style-type: square;"><li>Upon any change in the PMS affecting the inventory and containing only delta updates</li><li>There will be no overlay data export (i.e. pws_livejob.originator will no longer have value "TimeBasedInvCountTrigger")</li><li>If an OTA_HotelInvCountNotifRQ which is triggered has no change compared to the previous time trigger values, then the message is still created and moved to the pws_livejob, but it will be with status "-2" and thus not sent out - since no update is done on the PMS inventory values for any period</li></ul><p style="margin-left: 30.0px;">The PWS Delta message contains only the period and room type, affected by the change. Each PWS Delta message will include the counts for the affected room type in&nbsp;@InvTypeCode and for the property level in&nbsp;@AllInvCode="true". The property level counts include the totals from the entire property. Only stay-rooms matter for the Count.</p><h3 style="margin-left: 30.0px;" id="OTA_HotelInvCountNotifRQDeltamessagefromPWS-RoomTypedetailsandfiltering" data-scroll-heading-rank-offset="1" data-scroll-heading-rank="3" data-scroll-original-heading-rank="3" data-scroll-relative-heading-rank="3" class="scroll-original-h3 scroll-custom-section-heading scroll-document-section-heading scroll-h3 scroll-relative-h3">Room Type details and filtering</h3><ul style="list-style-type: square;"><li>Only stay-room types are included in the Inventory updates</li><li>If a room type is marked to not appear on the FO - it will still be included in the Inventory updates</li><li>If a room is not marked as online bookable - it will still be included in the Inventory updates</li><li>There is no way to shortlist the room types which are included in the inventory updates</li></ul><h3 style="margin-left: 30.0px;" id="OTA_HotelInvCountNotifRQDeltamessagefromPWS-X-setupforthrottlingthedeltatrigger" data-scroll-heading-rank-offset="1" data-scroll-heading-rank="3" data-scroll-original-heading-rank="3" data-scroll-relative-heading-rank="3" class="scroll-original-h3 scroll-custom-section-heading scroll-document-section-heading scroll-h3 scroll-relative-h3">X-setup for throttling the delta trigger</h3><p style="margin-left: 30.0px;">The x-setup (<em>global</em>) <em>pws | invcount_delta_throttling | X</em>&nbsp;allows a throttling to be added to the delta trigger. This option should not exceed the maximum suggested throttling. It will batch the changes for the configured period of time and send them out in a batched message. This helps to reduce the excessive triggers of the InvCount updates and reduces the number of messages triggered by the PWS.</p><ul style="list-style-type: square;"><li>X is either 0 or empty =&gt; then no throttling is applied</li><li>X is from 1 to 120 seconds =&gt; all changes on the inventory from the moment of the first trigger, are stored internally for the value of time defined in the xsetup - all changes are being consolidated. Only then the message is triggered.</li></ul><p style="margin-left: 30.0px;"><img alt="(warning)" data-emoticon-name="warning" class="emoticon emoticon-warning scroll-document-image" src="_scroll_external/icons/6ba5d19de63c/warning.svg" data-emoji-short-name=":warning:">&nbsp;With the throttling enabled, the messages are triggered as usual and kept waiting in the pws_jobs table till the time setup in the trigger is reached. For huge properties this can load the pws_jobs table. The throttling value should be used very carefully and to its minimum value. It is not possible to set the throttling per partner - it is a general setting per customer.</p><h3 style="margin-left: 30.0px;" id="OTA_HotelInvCountNotifRQDeltamessagefromPWS-Layout" data-scroll-heading-rank-offset="1" data-scroll-heading-rank="3" data-scroll-original-heading-rank="3" data-scroll-relative-heading-rank="3" class="scroll-original-h3 scroll-custom-section-heading scroll-document-section-heading scroll-h3 scroll-relative-h3">Layout</h3><ul style="list-style-type: square;"><li>If the @Counts per @CountType for more than one days are identical - then the whole period will be sent within one &lt;Inventory&gt; block.</li><li>Otherwise - each day is split in a separate &lt;Inventory&gt; block (If @Start = @End date, this is 1 day of stay)</li></ul><h3 style="margin-left: 30.0px;" id="OTA_HotelInvCountNotifRQDeltamessagefromPWS-ComparisonbetweenPWSandIDSInvCountmessagetypes:" data-scroll-heading-rank-offset="1" data-scroll-heading-rank="3" data-scroll-original-heading-rank="3" data-scroll-relative-heading-rank="3" class="scroll-original-h3 scroll-custom-section-heading scroll-document-section-heading scroll-h3 scroll-relative-h3">Comparison between PWS and IDS InvCount message types:</h3><div class="table-wrap"><table class="wrapped confluenceTable" style="margin-left: 30.0px;"><colgroup span="1"><col span="1" style="width: 280.0px;"><col span="1" style="width: 52.0px;"><col span="1" style="width: 44.0px;"><col span="1"></colgroup><thead><tr><th colspan="1" rowspan="1" class="confluenceTh"><p>Rule</p></th><th colspan="1" rowspan="1" class="confluenceTh"><p>PWS</p></th><th colspan="1" rowspan="1" class="confluenceTh"><p>IDS</p></th><th colspan="1" rowspan="1" class="confluenceTh"><p>Comment</p></th></tr></thead><tbody><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>CountType="1" physically available rooms</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p><img alt="(tick)" data-emoticon-name="tick" class="emoticon emoticon-tick scroll-document-image" src="_scroll_external/icons/ea52f49b26f0/check.svg" data-emoji-short-name=":tick:"></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p><img alt="(tick)" data-emoticon-name="tick" class="emoticon emoticon-tick scroll-document-image" src="_scroll_external/icons/ea52f49b26f0/check.svg" data-emoji-short-name=":tick:"></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p><br clear="none"></p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>CountType="2" definite available rooms</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p><img alt="(tick)" data-emoticon-name="tick" class="emoticon emoticon-tick scroll-document-image" src="_scroll_external/icons/ea52f49b26f0/check.svg" data-emoji-short-name=":tick:"></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p><img alt="(tick)" data-emoticon-name="tick" class="emoticon emoticon-tick scroll-document-image" src="_scroll_external/icons/ea52f49b26f0/check.svg" data-emoji-short-name=":tick:"></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p><br clear="none"></p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>CountType="3" tentative available rooms</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p><img alt="(tick)" data-emoticon-name="tick" class="emoticon emoticon-tick scroll-document-image" src="_scroll_external/icons/ea52f49b26f0/check.svg" data-emoji-short-name=":tick:"></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p><img alt="(error)" data-emoticon-name="cross" class="emoticon emoticon-cross scroll-document-image" src="_scroll_external/icons/c9cc713fcf92/error.svg" data-emoji-short-name=":cross:"></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p><br clear="none"></p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>CountType="4" definite sold</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p><img alt="(tick)" data-emoticon-name="tick" class="emoticon emoticon-tick scroll-document-image" src="_scroll_external/icons/ea52f49b26f0/check.svg" data-emoji-short-name=":tick:"></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p><img alt="(tick)" data-emoticon-name="tick" class="emoticon emoticon-tick scroll-document-image" src="_scroll_external/icons/ea52f49b26f0/check.svg" data-emoji-short-name=":tick:"></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p><br clear="none"></p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>CountType="5" tentative sold</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p><img alt="(tick)" data-emoticon-name="tick" class="emoticon emoticon-tick scroll-document-image" src="_scroll_external/icons/ea52f49b26f0/check.svg" data-emoji-short-name=":tick:"></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p><img alt="(error)" data-emoticon-name="cross" class="emoticon emoticon-cross scroll-document-image" src="_scroll_external/icons/c9cc713fcf92/error.svg" data-emoji-short-name=":cross:"></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p><br clear="none"></p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>CountType="6" rooms OoO</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p><img alt="(tick)" data-emoticon-name="tick" class="emoticon emoticon-tick scroll-document-image" src="_scroll_external/icons/ea52f49b26f0/check.svg" data-emoji-short-name=":tick:"></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p><img alt="(tick)" data-emoticon-name="tick" class="emoticon emoticon-tick scroll-document-image" src="_scroll_external/icons/ea52f49b26f0/check.svg" data-emoji-short-name=":tick:"></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p><br clear="none"></p></td></tr><tr><td colspan="1" rowspan="1" class="highlight-grey confluenceTd" data-highlight-colour="grey" title="Background colour : Grey"><p>CountType="<span style="color: rgb(23,43,77);" title="">16 =&nbsp;</span><span style="color: rgb(51,51,51);" title="">Group authorized</span></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p><img alt="(tick)" data-emoticon-name="tick" class="emoticon emoticon-tick scroll-document-image" src="_scroll_external/icons/ea52f49b26f0/check.svg" data-emoji-short-name=":tick:"></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p><img alt="(error)" data-emoticon-name="cross" class="emoticon emoticon-cross scroll-document-image" src="_scroll_external/icons/c9cc713fcf92/error.svg" data-emoji-short-name=":cross:"></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>Only for Overlay message and property level counts (@AllInvCode="true")</p></td></tr><tr><td colspan="1" rowspan="1" class="highlight-grey confluenceTd" data-highlight-colour="grey" title="Background colour : Grey"><p>CountType=<span style="color: rgb(23,43,77);" title="">17" = Group sold</span></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p><img alt="(tick)" data-emoticon-name="tick" class="emoticon emoticon-tick scroll-document-image" src="_scroll_external/icons/ea52f49b26f0/check.svg" data-emoji-short-name=":tick:"></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p><img alt="(error)" data-emoticon-name="cross" class="emoticon emoticon-cross scroll-document-image" src="_scroll_external/icons/c9cc713fcf92/error.svg" data-emoji-short-name=":cross:"></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>Only for Overlay message and property level counts (@AllInvCode="true")</p></td></tr><tr><td colspan="1" rowspan="1" class="highlight-grey confluenceTd" data-highlight-colour="grey" title="Background colour : Grey"><p>CountType=<span style="color: rgb(23,43,77);" title="">18" =&nbsp;</span><span style="color: rgb(51,51,51);" title="">Group available</span></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p><img alt="(tick)" data-emoticon-name="tick" class="emoticon emoticon-tick scroll-document-image" src="_scroll_external/icons/ea52f49b26f0/check.svg" data-emoji-short-name=":tick:"></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p><img alt="(error)" data-emoticon-name="cross" class="emoticon emoticon-cross scroll-document-image" src="_scroll_external/icons/c9cc713fcf92/error.svg" data-emoji-short-name=":cross:"></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>Only for Overlay message and property level counts (@AllInvCode="true")</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>CountType="99" Overbooking count</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p><img alt="(tick)" data-emoticon-name="tick" class="emoticon emoticon-tick scroll-document-image" src="_scroll_external/icons/ea52f49b26f0/check.svg" data-emoji-short-name=":tick:"></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p><img alt="(tick)" data-emoticon-name="tick" class="emoticon emoticon-tick scroll-document-image" src="_scroll_external/icons/ea52f49b26f0/check.svg" data-emoji-short-name=":tick:"></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>Separate settings per property/room type level counts</p></td></tr></tbody></table></div><h2 id="OTA_HotelInvCountNotifRQDeltamessagefromPWS-PWSInvCountmessagebehaviorperactionsinthePMS:" data-scroll-heading-rank-offset="1" data-scroll-heading-rank="2" data-scroll-original-heading-rank="2" data-scroll-relative-heading-rank="2" class="scroll-original-h2 scroll-custom-section-heading scroll-document-section-heading scroll-h2 scroll-relative-h2"><span style="letter-spacing: 0.0px;">PWS InvCount message behavior per actions in the PMS:</span></h2><ul style="list-style-type: square;"><li><h3 id="OTA_HotelInvCountNotifRQDeltamessagefromPWS-Action:>createNewbookingwithdefinitedeductingstatusforXrooms>createNewblockingallotmentforXrooms>scheduleaRoomMoveforXrooms" data-scroll-heading-rank-offset="1" data-scroll-heading-rank="3" data-scroll-original-heading-rank="3" data-scroll-relative-heading-rank="3" class="scroll-original-h3 scroll-custom-section-heading scroll-document-section-heading scroll-h3 scroll-relative-h3">Action: <br clear="none">&gt; create New booking with definite deducting status for X rooms<br clear="none">&gt; create New blocking allotment for X rooms<br clear="none">&gt; schedule a Room Move for X rooms&nbsp;</h3>Result:&nbsp;<br clear="none"><ul><li>CountType="1" Count= does not change</li><li>CountType="2" Count= decreases with X</li><li>CountType="3" Count= decreases with X</li><li>CountType="4" Count= increases with X</li><li>CountType="5" Count= does not change</li><li>CountType="6" Count= does not change&nbsp;</li></ul></li><li><h3 id="OTA_HotelInvCountNotifRQDeltamessagefromPWS-Action:createNewbookingwithoptionalnon-deductingstatusforXrooms(OOA/Waitlisting)" data-scroll-heading-rank-offset="1" data-scroll-heading-rank="3" data-scroll-original-heading-rank="3" data-scroll-relative-heading-rank="3" class="scroll-original-h3 scroll-custom-section-heading scroll-document-section-heading scroll-h3 scroll-relative-h3">Action: create New booking with optional non-deducting status for X rooms (OOA/Waitlisting)</h3>Result:<ul><li>CountType="1" Count= does not change</li><li>CountType="2" Count= does not change</li><li>CountType="3" Count=&nbsp;does not change</li><li>CountType="4" Count= does not change</li><li>CountType="5" Count=&nbsp;does not change</li><li>CountType="6" Count= does not change&nbsp;</li></ul></li><li><h3 id="OTA_HotelInvCountNotifRQDeltamessagefromPWS-Action:createNewbookingwithtentativedeductingstatusforXrooms(OMA)" data-scroll-heading-rank-offset="1" data-scroll-heading-rank="3" data-scroll-original-heading-rank="3" data-scroll-relative-heading-rank="3" class="scroll-original-h3 scroll-custom-section-heading scroll-document-section-heading scroll-h3 scroll-relative-h3">Action: create New booking with tentative deducting status for X rooms (OMA)</h3>Result:<ul><li>CountType="1" Count= does not change</li><li>CountType="2" Count= does not change</li><li>CountType="3" Count= decreases with X</li><li>CountType="4" Count= does not change</li><li>CountType="5" Count= increases with X</li><li>CountType="6" Count= does not change&nbsp;</li></ul></li><li><h3 id="OTA_HotelInvCountNotifRQDeltamessagefromPWS-Action:BlockXrooms(statusOutofOrder)" data-scroll-heading-rank-offset="1" data-scroll-heading-rank="3" data-scroll-original-heading-rank="3" data-scroll-relative-heading-rank="3" class="scroll-original-h3 scroll-custom-section-heading scroll-document-section-heading scroll-h3 scroll-relative-h3">Action: Block X rooms (status Out of Order)</h3>Result:<ul><li>CountType="1" Count= does not change</li><li>CountType="2" Count=&nbsp;decreases with X</li><li>CountType="3" Count=&nbsp;decreases with X</li><li>CountType="4" Count= does not change</li><li>CountType="5" Count=&nbsp;does not change</li><li>CountType="6" Count=&nbsp;increases with X</li></ul></li><li><h3 id="OTA_HotelInvCountNotifRQDeltamessagefromPWS-Action:Movereservationinfuture(past)e.g.from05-07thofJanto09-10thofJan." data-scroll-heading-rank-offset="1" data-scroll-heading-rank="3" data-scroll-original-heading-rank="3" data-scroll-relative-heading-rank="3" class="scroll-original-h3 scroll-custom-section-heading scroll-document-section-heading scroll-h3 scroll-relative-h3">Action: Move reservation in future (past) e.g. from 05-07th of Jan to 09-10th of Jan.</h3>Result:&nbsp;<br clear="none"><ul><li>2 InvCount messages are triggered - one for each step of the change (PREM rule): 1 message for 07-09th (to extend the initial period) and one for 05-08th (to drop the removed period)</li><li>All changes in the UI are recorded to the DB at the moment a change is done - to avoid overbooking or leaving an unsaved reservation edit</li><li>the changes export is adjustable to be sent in time frame batches using the <a rel="nofollow" href="https://confluence.protel.net/display/ESB/OTA_HotelInvCountNotifRQ+Delta+message+from+PWS#OTA_HotelInvCountNotifRQDeltamessagefromPWS-X-setupforthrottlingthedeltatrigger" shape="rect" class="external-link scroll-external-link" data-scroll-link-type="default" data-scroll-link-target="https://confluence.protel.net/display/ESB/OTA_HotelInvCountNotifRQ+Delta+message+from+PWS#OTA_HotelInvCountNotifRQDeltamessagefromPWS-X-setupforthrottlingthedeltatrigger" data-scroll-link-local="false">xsetup</a></li></ul></li><li><h3 id="OTA_HotelInvCountNotifRQDeltamessagefromPWS-Action:CancelareservationforXrooms(definitedeductingbookings)Note!CancelandNoShowstatusresultinthesamecount" data-scroll-heading-rank-offset="1" data-scroll-heading-rank="3" data-scroll-original-heading-rank="3" data-scroll-relative-heading-rank="3" class="scroll-original-h3 scroll-custom-section-heading scroll-document-section-heading scroll-h3 scroll-relative-h3">Action: Cancel a reservation for X rooms (definite deducting bookings)<br clear="none"><em>Note! Cancel and NoShow status result in the same count</em></h3>Result:<ul><li>CountType="1" Count= does not change</li><li>CountType="2" Count= increase with X</li><li>CountType="3" Count=&nbsp;increase with X</li><li>CountType="4" Count= decrease with X</li><li>CountType="5" Count=&nbsp;does not change</li><li>CountType="6" Count= does not change</li></ul></li><li><h3 id="OTA_HotelInvCountNotifRQDeltamessagefromPWS-Action:CancelareservationforXrooms(tentativedeductingbookings)Note!CancelandNoShowstatusresultinthesamecount" data-scroll-heading-rank-offset="1" data-scroll-heading-rank="3" data-scroll-original-heading-rank="3" data-scroll-relative-heading-rank="3" class="scroll-original-h3 scroll-custom-section-heading scroll-document-section-heading scroll-h3 scroll-relative-h3">Action: Cancel a reservation for X rooms (tentative deducting bookings)<br clear="none"><em>Note! Cancel and NoShow status result in the same count</em></h3>Result:<ul><li>CountType="1" Count= does not change</li><li>CountType="2" Count=&nbsp;does not change</li><li>CountType="3" Count=&nbsp;increase with X</li><li>CountType="4" Count=&nbsp;does not change</li><li>CountType="5" Count=&nbsp;decrease with X</li><li>CountType="6" Count= does not change</li></ul></li><li><h3 id="OTA_HotelInvCountNotifRQDeltamessagefromPWS-Action:SchedulefutureoverbookingcountonRoomTypeor/andHotellevel(notyetsupportedwithPWSoutbound)-tobeimplementedwithPWS-2747" data-scroll-heading-rank-offset="1" data-scroll-heading-rank="3" data-scroll-original-heading-rank="3" data-scroll-relative-heading-rank="3" class="scroll-original-h3 scroll-custom-section-heading scroll-document-section-heading scroll-h3 scroll-relative-h3">Action: Schedule future overbooking count on Room Type or/and Hotel level (not yet supported with PWS outbound) - to be implemented with&nbsp;<span class="scroll-jira-issue-placeholder" data-scroll-ref="jira-issue-6008e2defadc39b70296e0484bf3deb8" data-scroll-jira-issue-key="PWS-2747" data-scroll-jira-issue-show-summary="true">PWS-2747</span></h3>Result:<ul><li>CountType="1" Count= does not change</li><li>CountType="2" Count= does not change</li><li>CountType="3" Count=&nbsp;does not change</li><li>CountType="4" Count= does not change</li><li>CountType="5" Count=&nbsp;does not change</li><li>CountType="6" Count= does not change&nbsp;</li></ul></li><li><h3 id="OTA_HotelInvCountNotifRQDeltamessagefromPWS-Action:OverbookaRoomTypewithXrooms(definitedeductingbookings)" data-scroll-heading-rank-offset="1" data-scroll-heading-rank="3" data-scroll-original-heading-rank="3" data-scroll-relative-heading-rank="3" class="scroll-original-h3 scroll-custom-section-heading scroll-document-section-heading scroll-h3 scroll-relative-h3">Action: Overbook a Room Type with X rooms (definite deducting bookings)</h3>Result:<ul><li>CountType="1" Count= does not change</li><li>CountType="2" Count= decreases with X, the value will be negative (e.g. "-3")</li><li>CountType="3" Count=&nbsp;decreases with X, the value will be negative (e.g. "-3")</li><li>CountType="4" Count= increases with X</li><li>CountType="5" Count=&nbsp;does not change</li><li>CountType="6" Count= does not change</li></ul></li></ul><ul><li><h3 id="OTA_HotelInvCountNotifRQDeltamessagefromPWS-Action:OverbookaRoomTypewithXrooms(definitedeductingbookings).1" data-scroll-heading-rank-offset="1" data-scroll-heading-rank="3" data-scroll-original-heading-rank="3" data-scroll-relative-heading-rank="3" class="scroll-original-h3 scroll-custom-section-heading scroll-document-section-heading scroll-h3 scroll-relative-h3">Action: Overbook a Room Type with X rooms (definite deducting bookings)</h3>Result:<ul><li>CountType="1" Count= does not change</li><li>CountType="2" Count= decreases with X, the value will be negative (e.g. "-3")</li><li>CountType="3" Count=&nbsp;decreases with X, the value will be negative (e.g. "-3")</li><li>CountType="4" Count= increases with X</li><li>CountType="5" Count=&nbsp;does not change</li><li>CountType="6" Count= does not change</li></ul></li></ul><ul style="list-style-type: square;"><li><h3 id="OTA_HotelInvCountNotifRQDeltamessagefromPWS-Action:EODrun" data-scroll-heading-rank-offset="1" data-scroll-heading-rank="3" data-scroll-original-heading-rank="3" data-scroll-relative-heading-rank="3" class="scroll-original-h3 scroll-custom-section-heading scroll-document-section-heading scroll-h3 scroll-relative-h3">Action: EOD run</h3>With <span class="scroll-jira-issue-placeholder" data-scroll-ref="jira-issue-26d0267474269a9a7c82180f7bcef8fc" data-scroll-jira-issue-key="PWS-2726" data-scroll-jira-issue-show-summary="true">PWS-2726</span>and related tickets the following is available:<ul><li>Setup default period for overlay synch with xsetup/PWS UI. Current default is 365 days in future</li><li>Once the PWS is started, the DB occupancy tables are filled in for the period defined in the xsetup. With this action - an Overlay is triggered for the same period.</li><li>Once EOD is ran, there will be an OTA_HotelInvCountNotifRQ triggered out containing all stay room types for a period of 1 day. This 1 day will be the end of the period defined in the pws xsetup.</li></ul></li><li><h3 id="OTA_HotelInvCountNotifRQDeltamessagefromPWS-Action:RunmanualURLtrigger" data-scroll-heading-rank-offset="1" data-scroll-heading-rank="3" data-scroll-original-heading-rank="3" data-scroll-relative-heading-rank="3" class="scroll-original-h3 scroll-custom-section-heading scroll-document-section-heading scroll-h3 scroll-relative-h3">Action: Run manual URL trigger</h3>With <span class="scroll-jira-issue-placeholder" data-scroll-ref="jira-issue-20846f92342927e0a2e9f614d7a123e3" data-scroll-jira-issue-key="PWS-2743" data-scroll-jira-issue-show-summary="true">PWS-2743</span>and related tickets the following is available:<ul><li>The manual URL trigger will no longer be usable for past periods. The new inventory tables are filled only at the moment the PWS 3.4 is set to running for the first time. No past data will be available.</li><li>The new URL will take the current PMS booking date as start point and add the future number of days provided in the parameter of the trigger</li><li>Expected CREATE manual trigger:<br clear="none"><a rel="nofollow" href="http://127.0.0.1:8000/ota/hotelinvcountnotif/{MPE_hotel}/{Number_of_days" shape="rect" class="external-link scroll-external-link" data-scroll-link-type="default" data-scroll-link-target="http://127.0.0.1:8000/ota/hotelinvcountnotif/{MPE_hotel}/{Number_of_days" data-scroll-link-local="false">http://127.0.0.1:8000/ota/hotelinvcountnotif/{MPE_hotel}/{Number_of_days</a>}</li><li>Expected SEND manual trigger:&nbsp;<br clear="none"><a rel="nofollow" href="http://127.0.0.1:8000/ota/hotelinvcountnotif/{MPE_hotel}/{Number_of_days" shape="rect" class="external-link scroll-external-link" data-scroll-link-type="default" data-scroll-link-target="http://127.0.0.1:8000/ota/hotelinvcountnotif/{MPE_hotel}/{Number_of_days" data-scroll-link-local="false">http://127.0.0.1:8000/ota/hotelinvcountnotif/{MPE_hotel}/send/{Number_of_days</a>}</li></ul></li><li><h3 id="OTA_HotelInvCountNotifRQDeltamessagefromPWS-Action:BulkuploadforInventory" data-scroll-heading-rank-offset="1" data-scroll-heading-rank="3" data-scroll-original-heading-rank="3" data-scroll-relative-heading-rank="3" class="scroll-original-h3 scroll-custom-section-heading scroll-document-section-heading scroll-h3 scroll-relative-h3">Action: Bulk upload for Inventory</h3>With <span class="scroll-jira-issue-placeholder" data-scroll-ref="jira-issue-a8fecfad57fb23cc10eec16009c3fcbc" data-scroll-jira-issue-key="PWS-359" data-scroll-jira-issue-show-summary="true">PWS-359</span>and related tickets the following is available:<ul><li>Send overlay/re-sync of huge amount of data in one large OTA_HotelInvCountNotifRQ</li></ul></li><li><h3 id="OTA_HotelInvCountNotifRQDeltamessagefromPWS-Action:ThefollowingactionsdonottriggeranAPIout" data-scroll-heading-rank-offset="1" data-scroll-heading-rank="3" data-scroll-original-heading-rank="3" data-scroll-relative-heading-rank="3" class="scroll-original-h3 scroll-custom-section-heading scroll-document-section-heading scroll-h3 scroll-relative-h3">Action: The following actions do not trigger an API out</h3>Result:<ul><li>CI of reservation</li><li>CO of reservation</li><li>Creating pseudo room reservation</li><li>Mark a room as OutOfService</li><li>Creating day use reservation (onPrem atm - 1 API is triggered for adding the count and right afterwards a new one is triggered for dropping the API)</li><li>Re-assign room, change room (changes done within the same Room Type!), profile related or other changes that do not affect the inventory</li><li>Create a reservation in a blocking allotment</li><li>Create sharer reservation</li><li>Time-based default overlay trigger 3 times/day</li></ul></li></ul><h2 id="OTA_HotelInvCountNotifRQDeltamessagefromPWS-PWS_livejobentries" data-scroll-heading-rank-offset="1" data-scroll-heading-rank="2" data-scroll-original-heading-rank="2" data-scroll-relative-heading-rank="2" class="scroll-original-h2 scroll-custom-section-heading scroll-document-section-heading scroll-h2 scroll-relative-h2">PWS_livejob entries&nbsp;</h2><h3 style="margin-left: 30.0px;" id="OTA_HotelInvCountNotifRQDeltamessagefromPWS-Originator" data-scroll-heading-rank-offset="1" data-scroll-heading-rank="3" data-scroll-original-heading-rank="3" data-scroll-relative-heading-rank="3" class="scroll-original-h3 scroll-custom-section-heading scroll-document-section-heading scroll-h3 scroll-relative-h3">Originator</h3><ul style="list-style-type: square;"><li>"PwsOccupancy" table initializer = message triggered at start of PWS</li><li>"pws_occupancy_insert_update_delete" = message triggered during live mode actions</li></ul><h3 style="margin-left: 30.0px;" id="OTA_HotelInvCountNotifRQDeltamessagefromPWS-Eventvalue" data-scroll-heading-rank-offset="1" data-scroll-heading-rank="3" data-scroll-original-heading-rank="3" data-scroll-relative-heading-rank="3" class="scroll-original-h3 scroll-custom-section-heading scroll-document-section-heading scroll-h3 scroll-relative-h3">Eventvalue</h3><ul style="list-style-type: square;"><li>"3/18/2021 12:00:00 AM - 3/19/2021 12:00:00 AM" = the message exported was covering the period of 18-19, March 2021</li></ul><h3 style="margin-left: 30.0px;" id="OTA_HotelInvCountNotifRQDeltamessagefromPWS-Lasterror" data-scroll-heading-rank-offset="1" data-scroll-heading-rank="3" data-scroll-original-heading-rank="3" data-scroll-relative-heading-rank="3" class="scroll-original-h3 scroll-custom-section-heading scroll-document-section-heading scroll-h3 scroll-relative-h3">Lasterror</h3><p><img alt="(warning)" data-emoticon-name="warning" class="emoticon emoticon-warning scroll-document-image" src="_scroll_external/icons/6ba5d19de63c/warning.svg" data-emoji-short-name=":warning:">&nbsp;NOTE: There are cases where there should not be inventory update triggered out since there is no availability difference in the PMS. However, the onPrem sends a trigger that can not be avoided. Such messages which are recognized as invalid are being dropped in the pws_livejob table with a specific error message as exception and not sent out. The exception is not logged in the IFC and is for internal information only - no action is expected on it:</p><div class="scroll-code scroll-highlighted-code-block" data-title="Exception" data-title-type="code" data-theme="defaultnew" style="  counter-reset: scroll-code-numbering 0;"><div class="title">Exception</div><div class="defaultnew content" data-title="Exception">
<div class="line"><code class="plain">exception logged in the pws_livejob lasterror:</code></div>
<div class="line"><code class="plain">Exception thrown. Exception=protel.IO.Builder.BuildingException: {</code><code class="string">"KnownMessage"</code><code class="plain">: </code><code class="string">"OTA_HotelInvCountNotifRQ"</code><code class="plain">, </code><code class="string">"Parameter"</code><code class="plain">: {</code><code class="string">"from"</code><code class="plain">:</code><code class="string">"\/Date(1618178400000+0200)\/"</code><code class="plain">,</code><code class="string">"to"</code><code class="plain">:</code><code class="string">"\/Date(1618264800000+0200)\/"</code><code class="plain">,</code><code class="string">"mpe"</code><code class="plain">:</code><code class="value">3</code><code class="plain">,</code><code class="string">"correlationId"</code><code class="plain">:</code><code class="string">"ed416fa0-860d-49a0-991c-a50b60cb6256"</code><code class="plain">,</code><code class="string">"pwsJobsId"</code><code class="plain">:</code><code class="value">30556</code><code class="plain">,</code><code class="string">"delta"</code><code class="plain">:</code><code class="keyword">true</code><code class="plain">,</code><code class="string">"eventValue"</code><code class="plain">:</code><code class="string">"4/12/2021 12:00:00 AM-4/13/2021 12:00:00 AM"</code><code class="plain">,</code><code class="string">"originator"</code><code class="plain">:</code><code class="string">"pws_occupancy_insert_update_delete"</code><code class="plain">}} ---&gt; protel.IO.Builder.BuilderException: No delta changes detected. Skipping message.</code></div>
<div class="line"><code class="plain">   at protel.IO.Builder.HotelInvCountNotifRQBuilder.BuildInternal(OTA_HotelInvCountNotifRQParameter builderParameter)</code></div>
<div class="line"><code class="plain">   at protel.IO.Builder.BuilderBase`</code><code class="value">2</code><code class="plain">.Build(IBuilderParameter parameter)</code></div>
<div class="line"><code class="plain">   --- End of inner exception stack trace ---</code></div>
<div class="line"><code class="plain">   at protel.IO.Builder.BuilderBase`</code><code class="value">2</code><code class="plain">.Build(IBuilderParameter parameter)</code></div>
<div class="line"><code class="plain">   at protel.IO.Builder.BuilderFactory.BuildMessage(String knownMessage, IBuilderParameter param, String correlationId, Int32 mpe, BuilderFactoryConfigurationBase config)</code></div>
<div class="line"><code class="plain">   at protel.IO.Builder.BuilderFactory.BuildMessage(String knownMessage, IBuilderParameter param, String correlationId, Int32 mpe)</code></div>
<div class="line"><code class="plain">   at protel.IO.Live.Live.&lt;&gt;c__DisplayClass41_1.&lt;JobGenerationQueue&gt;b__1(PwsLiveJob job)</code></div>
</div>
</div><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img width="1900" class="confluence-embedded-image scroll-document-image" src="_scroll_external/attachments/627acbf65325/image2021-6-16_14-0-56.png"></span></p><h2 id="OTA_HotelInvCountNotifRQDeltamessagefromPWS-Summary" data-scroll-heading-rank-offset="1" data-scroll-heading-rank="2" data-scroll-original-heading-rank="2" data-scroll-relative-heading-rank="2" class="scroll-original-h2 scroll-custom-section-heading scroll-document-section-heading scroll-h2 scroll-relative-h2">Summary</h2><h3 style="margin-left: 30.0px;" id="OTA_HotelInvCountNotifRQDeltamessagefromPWS-DBtables" data-scroll-heading-rank-offset="1" data-scroll-heading-rank="3" data-scroll-original-heading-rank="3" data-scroll-relative-heading-rank="3" class="scroll-original-h3 scroll-custom-section-heading scroll-document-section-heading scroll-h3 scroll-relative-h3">DB tables</h3><ul style="list-style-type: square;"><li>pws_occupancy (former occupation)</li><li>pws_occupancy_change_history (former occupation_change_history)</li></ul><h3 style="margin-left: 30.0px;" id="OTA_HotelInvCountNotifRQDeltamessagefromPWS-xsetups:" data-scroll-heading-rank-offset="1" data-scroll-heading-rank="3" data-scroll-original-heading-rank="3" data-scroll-relative-heading-rank="3" class="scroll-original-h3 scroll-custom-section-heading scroll-document-section-heading scroll-h3 scroll-relative-h3">xsetups:</h3><ul style="list-style-type: square;"><li>pws | occupancy_pre_calculation_length</li><li>pws | invcount_delta_throttling</li><li>inventory | oversell</li></ul><h3 style="margin-left: 30.0px;" id="OTA_HotelInvCountNotifRQDeltamessagefromPWS-Triggers:" data-scroll-heading-rank-offset="1" data-scroll-heading-rank="3" data-scroll-original-heading-rank="3" data-scroll-relative-heading-rank="3" class="scroll-original-h3 scroll-custom-section-heading scroll-document-section-heading scroll-h3 scroll-relative-h3">Triggers:</h3><ul style="list-style-type: square;"><li>buch / occupancy</li><li>kontinge / occupancy</li><li>kteinzel / occupancy</li><li>overbook / occupancy</li></ul>
                        </div>
                    </section>

                </article>
            </main>


                <nav class="exp-post-navigation-prev">
                    <a href="OTA_HotelInvCountNotifRQ_RS-_-Old.192228244.html" class="post-navigation-link">
                        <svg width="22px" height="22px" viewbox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg">
                            <g id="ht-icon-prev">
                                <path fill="currentColor" d="M16,8 L16,6 L6,6 L6,16 L8,16 L8,8 L16,8 Z" id="Rectangle-2" transform="translate(11.000000, 11.000000) rotate(-45.000000) translate(-11.000000, -11.000000) " />
                            </g>
                        </svg>
                        <span>OTA_HotelInvCountNotifRQ/RS _ Old</span>
                    </a>
                </nav>

                <nav class="exp-post-navigation-next">

                    <a href="OTA_HotelRatePlanNotifRQ_RS-_-Old.192228261.html" class="post-navigation-link">
                        <span>OTA_HotelRatePlanNotifRQ/RS _ Old</span>
                        <svg width="22px" height="22px" viewbox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg">
                            <g id="ht-icon-next">
                                <path fill="currentColor" d="M16,8 L16,6 L6,6 L6,16 L8,16 L8,8 L16,8 Z" id="Rectangle-2" transform="translate(11.000000, 11.000000) rotate(-225.000000) translate(-11.000000, -11.000000) " />
                            </g>
                        </svg>
                    </a>

                </nav>


            <nav class="exp-sidebar-toc js-tocBot">
                <!-- content generated by toc.js  -->
            </nav>

            <div class="exp-sidebar-navigation-toggle">
                <div class="exp-sidebar-navigation-toggle-icon-line"></div>
                <div class="exp-sidebar-navigation-toggle-icon-line"></div>
                <div class="exp-sidebar-navigation-toggle-icon-line"></div>
            </div>

            <div class="exp-scroll-to-top-container">
                <a href="#OTA_HotelInvCountNotifRQDeltamessagefromPWS-top" class="exp-scroll-to-top-link"> Back to top</a>
            </div>

        </div>



<dialog class="exp-lightbox-container" aria-modal="true">
    <div class="lightbox-toolbar">
        <button type="button" class="exp-lightbox-close">
            <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 -960 960 960" aria-hidden="true">
                <path fill="currentColor" d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z" />
            </svg>
        </button>
    </div>
    <div class="lightbox-content content">
    </div>
</dialog>

<template id="exp-lightbox-wrapper-template">
    <div class="exp-lightbox-wrapper">
        <div class="exp-lightbox-toggle">
            <button type="button" class="exp-lightbox-close">
                <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 -960 960 960" aria-hidden="true">
                    <path fill="currentColor" d="M120-120v-320h80v184l504-504H520v-80h320v320h-80v-184L256-200h184v80H120Z" />
                </svg>
            </button>
        </div>
    </div>
</template>

        <script src="js/tocbot.min.js"></script>
        <script src="js/article-toc.js"></script>
        <script src="js/app.js"></script>
        <script src="js/mobile.js"></script>
        <script src="js/iframe-resizer.parent.js"></script>

    </body>

</html>